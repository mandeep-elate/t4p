/*! For license information please see frontend-commons.js.LICENSE.txt */
"use strict";(self.webpackChunkwcPPCP=self.webpackChunkwcPPCP||[]).push([[112],{330:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(567),i=n.n(r),o=n(907),a=n(694);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=/^(2(05|42|96)|419|868)$/.test(n.j)?function(){function e(t,n){var r=n.queryParams;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.queryParams=r,a.defaultHooks.addAction("paypalInstanceCreated","wcPPCP",this.paypalInstanceCreated.bind(this))}var t,n;return t=e,(n=[{key:"paypalInstanceCreated",value:function(e,t){this.paypal!==e&&(this.paypal=e,this.queryParams=t,this.createMessage())}},{key:"isCheckoutFlow",value:function(){var e;return"true"!==(null===(e=this.queryParams)||void 0===e?void 0:e.vault)}},{key:"initialize",value:function(){this.createMessage()}},{key:"createMessage",value:function(){var e=this,t=this.getMessageContainer();if(t)if(this.isCheckoutFlow()&&this.isActive()){this.showContainer(t);var n={amount:this.getTotal(),currency:this.getCurrency(),placement:this.getPlacement(),style:this.getStyleOptions(this.context),onRender:function(){e.onRender(t)}};this.paypal.Messages(n).render(t)}else this.hideMessage(t)}},{key:"showContainer",value:function(e){i()(e).closest(".wc-ppcp-paylater-msg__container").show()}},{key:"hideMessage",value:function(e){i()(e).closest(".wc-ppcp-paylater-msg__container").hide()}},{key:"getMessageContainer",value:function(){}},{key:"getStyleOptions",value:function(e){var t,n;return null===(t=(0,o.getSetting)("payLaterMessage"))||void 0===t||null===(n=t[e])||void 0===n?void 0:n.style}},{key:"getSetting",value:function(e){var t;return null===(t=(0,o.getSetting)("payLaterMessage"))||void 0===t?void 0:t[e]}},{key:"getTotal",value:function(){return 0}},{key:"getPlacement",value:function(){return""}},{key:"getCurrency",value:function(){var e;return null===(e=this.queryParams)||void 0===e?void 0:e.currency}},{key:"isActive",value:function(){return(0,o.getSetting)("payLaterMessage").enabled}},{key:"onRender",value:function(e){var t=function(){var t=e.querySelector('[name^="__zoid__paypal_message"]');t&&(t.style.width="100%",t.style.opacity="1")};t(),setTimeout(t,1e3)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}():null;const s=/^(2(05|42|96)|419|868)$/.test(n.j)?u:null},501:(e,t,n)=>{n.r(t),n.d(t,{PayLaterMessageCart:()=>g});var r=n(567),i=n.n(r),o=n(330),a=n(455),c=n.n(a),u=n(907);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=_(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function h(){}function f(){}function y(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==t&&n.call(g,i)&&(v=g);var b=y.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(i,o,a,c){var u=d(e[i],e,o);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==s(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=y,c(b,"constructor",y),c(y,"constructor",f),f.displayName=c(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(b),c(b,a,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function d(e,t,n,r,i,o,a){try{var c=e[o](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,i)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=f(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},h.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(s,e);var t,n,r,o,a,c,u=(a=s,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(a);if(c){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function s(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=u.call(this,"cart",n)).paypal=e,r.cart=t,r.initialize(),r}return t=s,n=[{key:"initialize",value:function(){h(m(s.prototype),"initialize",this).call(this),this.cart.on("cartUpdated",this.refreshMessage.bind(this))}},{key:"refreshMessage",value:(r=l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.createMessage();case 1:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){d(o,n,i,a,c,"next",e)}function c(e){d(o,n,i,a,c,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"getTotal",value:function(){return this.cart.getTotal()}},{key:"getMessageContainer",value:function(){var e=this.getSetting("cartLocation"),t=document.getElementById("wc-ppcp-paylater-msg-cart");if(t&&this.getSetting("isShortcode"))return t;switch(e){case"shop_table":t=document.getElementById("wc-ppcp-paylater-msg-cart");break;case"above_button":var n;(t=document.getElementById("wc-ppcp-cart-button-container"))&&(null!==(n=i()(t).find("#wc-ppcp-paylater-msg-cart"))&&void 0!==n&&n.length||i()(t).prepend('<div id="wc-ppcp-paylater-msg-cart"></div>'),t=document.getElementById("wc-ppcp-paylater-msg-cart"))}return t}},{key:"getPlacement",value:function(){return"cart"}}],n&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.Z),b=(0,u.getPayPalQueryParams)();(0,u.loadPayPalSdk)(b).then((function(e){new g(e,c(),{queryParams:b})})).catch((function(e){}))},372:(e,t,n)=>{n.r(t),n.d(t,{PayLaterMessageCheckout:()=>v,default:()=>b});var r=n(567),i=n.n(r),o=n(330),a=n(907),c=n(455),u=n.n(c);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=p(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(c,e);var t,n,r,o,a=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this,"checkout",n)).paypal=e,r.cart=t,r.initialize(),r}return t=c,(n=[{key:"initialize",value:function(){this.cart.on("updatedCheckout",this.createMessage.bind(this),20),d(y(c.prototype),"initialize",this).call(this)}},{key:"getMessageContainer",value:function(){var e;switch(this.getSetting("checkoutLocation")){case"shop_table":e=document.getElementById("wc-ppcp-paylater-msg-checkout");break;case"above_button":(e=document.querySelector(".wc-ppcp-checkout-container"))?(i()(e).find("#wc-ppcp-paylater-msg-checkout").remove(),i()(e).prepend('<div id="wc-ppcp-paylater-msg-checkout"></div>'),e=document.getElementById("wc-ppcp-paylater-msg-checkout")):setTimeout(this.createMessage.bind(this),500)}return e}},{key:"getPlacement",value:function(){return"payment"}},{key:"getTotal",value:function(){return this.cart.getTotal()}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Z),m=null,g=(0,a.getSetting)("ppcp_data");g&&g.placeOrderEnabled&&(m=(0,a.getPayPalQueryParams)()),(0,a.loadPayPalSdk)(m).then((function(e){new v(e,u(),{queryParams:(0,a.getPayPalQueryParams)()})}));const b=242==n.j?v:null},857:(e,t,n)=>{n.r(t);var r=n(567),i=n.n(r),o=n(330),a=n(455),c=n.n(a),u=n(907);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=p(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(c,e);var t,n,r,o,a=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this,"minicart",n)).paypal=e,r.cart=t,r.initialize(),r}return t=c,(n=[{key:"initialize",value:function(){d(y(c.prototype),"initialize",this).call(this),this.cart.on("fragmentsChanged",this.createMessage.bind(this))}},{key:"getMessageContainer",value:function(){var e=null;switch(i()("#wc-ppcp-minicart-msg").remove(),this.getSetting("miniCartLocation")){case"cart_total":e=document.querySelector(".woocommerce-mini-cart__total"),i()(e).after('<p class="wc-ppcp-minicart-msg__container"><span id="wc-ppcp-minicart-msg"></span></p>');break;case"checkout":e=document.querySelector(".woocommerce-mini-cart__buttons .checkout"),i()(e).after('<span id="wc-ppcp-minicart-msg"></span>')}return e?document.getElementById("wc-ppcp-minicart-msg"):document.querySelector(".woocommerce-mini-cart__total")}},{key:"showContainer",value:function(e){i()(e).show()}},{key:"hideMessage",value:function(e){i()(e).hide()}},{key:"getTotal",value:function(){return this.cart.getTotal()}},{key:"getPlacement",value:function(){return"cart"}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Z),m=(0,u.getPayPalQueryParams)();(0,u.loadPayPalSdk)(m).then((function(e){new v(e,c(),{queryParams:m})})).catch((function(e){}))},551:(e,t,n)=>{n.r(t),n.d(t,{PayLaterMessageProduct:()=>v,default:()=>g});var r=n(567),i=n.n(r),o=n(330),a=n(719),c=n.n(a),u=n(907);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=p(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(c,e);var t,n,r,o,a=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this,"product",n)).paypal=e,r.product=t,r.initialize(),r}return t=c,(n=[{key:"initialize",value:function(){this.product.on("quantityChange",this.onQuantityChange.bind(this)),this.product.on("foundVariation",this.onFoundVariation.bind(this)),this.product.on("resetVariation",this.onResetVariation.bind(this)),d(y(c.prototype),"initialize",this).call(this)}},{key:"onQuantityChange",value:function(e){this.createMessage()}},{key:"onFoundVariation",value:function(e){this.createMessage()}},{key:"onResetVariation",value:function(e){this.createMessage()}},{key:"getMessageContainer",value:function(){return document.getElementById("wc-ppcp-paylater-msg-product")||i()("form.checkout .shop_table").after('<div id="wc-ppcp-paylater-msg-product"></div>'),document.getElementById("wc-ppcp-paylater-msg-product")}},{key:"getTotal",value:function(){return this.product.getTotal()}},{key:"getPlacement",value:function(){return"product"}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Z),m=(0,u.getPayPalQueryParams)();(0,u.loadPayPalSdk)(m).then((function(e){new v(e,new(c()),{queryParams:m})})).catch((function(e){}));const g=868==n.j?v:null},200:(e,t,n)=>{n.r(t);var r=n(567),i=n.n(r),o=n(907);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=l(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},s.apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(f,e);var t,n,r,a,l=(r=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(a){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=l.call(this,"shop",{queryParams:(0,o.getPayPalQueryParams)()})).data=(0,o.getSetting)("payLaterMessage"),e.initialize(),e}return t=f,(n=[{key:"initialize",value:function(){(0,o.loadPayPalSdk)((0,o.getPayPalQueryParams)())}},{key:"getValidProductTypes",value:function(){return this.data.shop.product_types}},{key:"isSupportedProduct",value:function(e){return this.getValidProductTypes().includes(e)}},{key:"createMessage",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(this.data.shop.products);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.isSupportedProduct(n.product_type)&&(this.currentProduct=n,s(h(f.prototype),"createMessage",this).call(this))}}catch(e){t.e(e)}finally{t.f()}}},{key:"getMessageContainer",value:function(){return document.getElementById("wc-ppcp-paylater-msg-".concat(this.currentProduct.id))||(this.isBelowPrice()?i()(".post-".concat(this.currentProduct.id," .price")).after('<div class="wc-ppcp-paylater-msg-shop-container" id="wc-ppcp-paylater-msg-'.concat(this.currentProduct.id,'"></div>')):i()(".post-".concat(this.currentProduct.id," a.button")).after('<div class="wc-ppcp-paylater-msg-shop-container" id="wc-ppcp-paylater-msg-'.concat(this.currentProduct.id,'"></div>'))),document.getElementById("wc-ppcp-paylater-msg-".concat(this.currentProduct.id))}},{key:"getTotal",value:function(){return this.currentProduct.total}},{key:"getPlacement",value:function(){return"category"}},{key:"isBelowPrice",value:function(){return"below_price"===this.data.shop.msgLocation}},{key:"showContainer",value:function(e){i()(e).show()}},{key:"hideMessage",value:function(e){i()(e).hide()}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(n(330).Z))},602:(e,t,n)=>{n.d(t,{C:()=>g,Z:()=>m});var r=n(567),i=n.n(r),o=n(989),a=n.n(o),c=n(694),u=n(907),s=n(819),l=/^(2(05|42|92|96)|419|868)$/.test(n.j)?null:["color","label"];function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=/^(2(05|42|92|96)|419|868)$/.test(n.j)?null:function(){function e(t){var n=t.id,r=t.context,i=t.container,o=void 0===i?null:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n,this.buttons={},this.actions={},this.context=r,this.settings=(0,u.getSetting)("".concat(n,"_data")),this.container=o||"li.payment_method_".concat(n),this.order_field_key="".concat(this.id,"_paypal_order_id"),this.billing_token_key="".concat(this.id,"_billing_token")}var t,n;return t=e,n=[{key:"initialize",value:function(){var e=this;this.loadPayPalScript().then((function(){e.initializeEvents(),e.createButton()}))}},{key:"initializeEvents",value:function(){}},{key:"isActive",value:function(){return null!==this.getData()}},{key:"loadPayPalScript",value:function(){var e=this;return new Promise((function(t,n){(0,u.loadPayPalSdk)(e.getPayPalSDKArgs()).then((function(n){e.paypal=n,t()})).catch((function(t){console.log(t),null!=t&&t.code&&e.submitError((0,u.getErrorMessage)(t)),n()}))}))}},{key:"getPayPalSDKArgs",value:function(){return(0,u.getPayPalQueryParams)()}},{key:"getClientId",value:function(){var e=(0,u.getSetting)("generalData"),t=e.clientId,n=void 0===t?null:t,r=e.environment;return n||"sandbox"!=r||(n="sb"),n}},{key:"getData",value:function(){return i()("".concat(this.container)).find(".wc-ppcp-payment-method-data").data("payment-method-data")||null}},{key:"setData",value:function(e){i()("".concat(this.container)).find(".wc-ppcp-payment-method-data").data("payment-method-data",e)}},{key:"setOption",value:function(e,t){var n=this.getData();n&&(n[e]=t,this.setData(n))}},{key:"setVariable",value:function(e,t){(0,u.getSetting)("".concat(this.id,"_data"))[e]=t}},{key:"getVariable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,u.getSetting)("".concat(this.id,"_data"));return n.hasOwnProperty(e)?n[e]:(t&&this.setVariable(e,t),t)}},{key:"getOption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getData();return n.hasOwnProperty(e)?n[e]:(t&&this.setOption(e,t),t)}},{key:"createButton",value:function(){var e=this,t=this.getButtonContainer();t&&!i()(t).find(".paypal-buttons").length&&(this.getSortedFunding(this.getFunding()).forEach((function(n){var r=e.paypal.Buttons(e.getButtonOptions(n));if(e.buttons[n]=r,r.isEligible())if(t instanceof NodeList)for(var i=0;i<t.length;i++){var o=t[i];i<1?r.render(o):r.clone().render(o)}else r.render(t)})),this.$button=i()(t),c.defaultHooks.doAction("wcPPCPButtonCreated",this))}},{key:"getButton",value:function(){return this.$button}},{key:"destroyButtons",value:function(){var e=this;Object.keys(this.buttons).forEach((function(t){e.buttons[t].close&&e.buttons[t].close()}))}},{key:"disableButtons",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object.keys(this.actions).forEach((function(t){e.actions[t].disable()})),t&&null!=this&&this.$button&&this.$button.addClass("disabled")}},{key:"enableButtons",value:function(){var e=this;Object.keys(this.actions).forEach((function(t){e.actions[t].enable()})),this.$button&&this.$button.removeClass("disabled")}},{key:"getFunding",value:function(){var e,t,n,r,i,o,a,c=[],u=(null===(e=this.settings)||void 0===e?void 0:e.funding)||[];return null!==(t=this.settings)&&void 0!==t&&null!==(n=t.paypal_sections)&&void 0!==n&&n.includes(this.getPage())&&c.push(paypal.FUNDING.PAYPAL),u.includes("paylater")&&null!==(r=this.settings)&&void 0!==r&&null!==(i=r.paylater_sections)&&void 0!==i&&i.includes(this.getPage())&&this.isCheckoutFlow()&&c.push(paypal.FUNDING.PAYLATER),u.includes("card")&&null!==(o=this.settings)&&void 0!==o&&null!==(a=o.credit_card_sections)&&void 0!==a&&a.includes(this.getPage())&&c.push(paypal.FUNDING.CARD),c}},{key:"isFundingActive",value:function(e){var t,n;return null===(t=this.settings)||void 0===t||null===(n=t.funding)||void 0===n?void 0:n.includes(e)}},{key:"isSectionEnabled",value:function(e,t){var n,r,i="".concat(e,"_sections");return null===(n=this.settings)||void 0===n||null===(r=n[i])||void 0===r?void 0:r.includes(t)}},{key:"getSortedFunding",value:function(e){var t=this.settings.buttons_order||[];return e.sort((function(e,n){return t.indexOf(e)<t.indexOf(n)?-1:1})),e}},{key:"getButtonContainer",value:function(){return null}},{key:"getButtonOptions",value:function(e){var t=this,n={fundingSource:e,style:this.getButtonStyle(e),onInit:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t.onInit.apply(t,[e].concat(r)),i()(document.body).triggerHandler("wc_ppcp_on_init",[t,e])},onClick:function(){t.onClick.apply(t,arguments),i()(document.body).triggerHandler("wc_ppcp_on_click",[t,e])},onApprove:this.getOnApprove(e),onCancel:this.getOnCancel(e),onError:this.getOnError(e),onDestroy:this.getOnDestroy(e),createOrder:function(e,n){return t.createOrder(e,n)}};return this.needsShipping()&&e!==paypal.FUNDING.VENMO&&(n.onShippingChange=function(){return t.onShippingChange.apply(t,arguments)}),this.settings.needsSetupToken&&(n.createOrder=null,n.createVaultSetupToken=function(){return t.createVaultSetupToken()}),n}},{key:"getOnApprove",value:function(e){var t=this;return function(n,r){t.onApprove(n,r),i()(document.body).triggerHandler("wc_ppcp_on_approve",[t,e])}}},{key:"getOnCancel",value:function(e){var t=this;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.orderId=(null==n?void 0:n.orderID)||null,t.enableButtons(),i()(document.body).triggerHandler("wc_ppcp_on_cancel",[t,e,n])}}},{key:"getOnError",value:function(e){var t=this;return function(n){t.currentError?(t.submitError(t.currentError),t.currentError=null):t.submitError(n),t.enableButtons(),i()(document.body).triggerHandler("wc_ppcp_on_error",[t,e,n])}}},{key:"getOnDestroy",value:function(e){var t=this;return function(){i()(document.body).triggerHandler("wc_ppcp_on_destroy",[t,e])}}},{key:"needsShipping",value:function(){return this.getOption("needsShipping",!1)}},{key:"isCheckoutFlow",value:function(){var e;return"true"!==(null===(e=(0,u.getPayPalQueryParams)())||void 0===e?void 0:e.vault)}},{key:"getTotal",value:function(){return this.getOption("total",0)}},{key:"getButtonStyle",value:function(e){var t,n,r,i,o,a,c,u,s,d=null;switch(e){case paypal.FUNDING.PAYPAL:d=null===(t=this.settings)||void 0===t||null===(n=t.buttons)||void 0===n?void 0:n.paypal;break;case paypal.FUNDING.PAYLATER:d=null===(r=this.settings)||void 0===r||null===(i=r.buttons)||void 0===i?void 0:i.paylater;break;case paypal.FUNDING.CARD:(d=f({},null===(o=this.settings)||void 0===o||null===(a=o.buttons)||void 0===a?void 0:a.card)).tagline?(delete d.tagline,d.layout="vertical"):d.layout="horizontal";break;case paypal.FUNDING.VENMO:var p=null===(c=this.settings)||void 0===c||null===(u=c.buttons)||void 0===u?void 0:u.paypal;p.color,p.label,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(p,l)}return null!==(s=d)&&void 0!==s&&s.height&&(d.height=parseInt(d.height)),d}},{key:"onApprove",value:function(e,t){var n=this;(0,u.setFieldValue)(this.order_field_key,e.orderID,""),e.vaultSetupToken?this.createPaymentToken(e.vaultSetupToken).then((function(t){n.handlePaymentToken(t,e)})).catch((function(e){return n.submitError(null==e?void 0:e.message)})).finally((function(){n.enableButtons()})):t&&t.order&&t.order.get().then((function(t){n.handleOnApproveResponse(e,t)})).catch((function(e){return n.submitError(e)}))}},{key:"handleOnApproveResponse",value:function(e,t){this.populateCheckoutFields(t),this.processCartCheckout()}},{key:"fetchBillingToken",value:function(e){return a()({method:"GET",path:"/wc-ppcp/v1/billing-agreement/token/".concat(e)})}},{key:"createPaymentToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a()({method:"POST",path:"/wc-ppcp/v1/vault/payment-tokens",data:f({setup_token:e},t)})}},{key:"handlePaymentToken",value:function(e){var t,n,r,i,o,a,c,l,d,p,h,f,y,v,m;if((0,u.setFieldValue)("".concat(this.id,"_payment_token"),e.id,null),null!=e&&null!==(t=e.payment_source)&&void 0!==t&&null!==(n=t.paypal)&&void 0!==n&&null!==(r=n.name)&&void 0!==r&&r.given_name&&((0,u.isValid)("billing_first_name")||(0,u.setFieldValue)("first_name",e.payment_source.paypal.name.given_name,"billing")),null!=e&&null!==(i=e.payment_source)&&void 0!==i&&null!==(o=i.paypal)&&void 0!==o&&null!==(a=o.name)&&void 0!==a&&a.surname&&((0,u.isValid)("billing_last_name")||(0,u.setFieldValue)("last_name",e.payment_source.paypal.name.surname,"billing")),null!=e&&null!==(c=e.payment_source)&&void 0!==c&&null!==(l=c.paypal)&&void 0!==l&&l.email_address&&((0,u.isValid)("billing_email")||(0,u.setFieldValue)("billing_email",e.payment_source.paypal.email_address)),null!=e&&null!==(d=e.payment_source)&&void 0!==d&&null!==(p=d.paypal)&&void 0!==p&&null!==(h=p.phone)&&void 0!==h&&null!==(f=h.phone_number)&&void 0!==f&&f.national_number&&((0,u.isValid)("billing_phone")||(0,u.setFieldValue)("billing_phone",e.payment_source.paypal.phone.phone_number.national_number)),this.needsShipping()&&null!=e&&null!==(y=e.payment_source)&&void 0!==y&&null!==(v=y.paypal)&&void 0!==v&&null!==(m=v.shipping)&&void 0!==m&&m.address){var g=e.payment_source.paypal.shipping,b=g.name,k=g.address;if(!(0,s.isEmpty)(k)){var w=(0,u.convertPayPalAddressToCart)(k);this.populateNameFields((0,u.extractFullName)(b.full_name),"shipping"),this.populateShippingAddressFields(w),(0,u.isValidAddress)(this.getCartFullAddress("billing"),["phone","email"])||((0,u.isValidFieldValue)((0,u.getFieldValue)("billing_first_name"))||(0,u.isValidFieldValue)((0,u.getFieldValue)("billing_last_name"))||this.populateNameFields(b.full_name,"billing"),this.populateBillingAddressFields(w))}}}},{key:"createOrder",value:function(e,t){return t.order.create(args)}},{key:"createVaultSetupToken",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.disableButtons(!0),a()({method:"POST",url:(0,u.getRestPath)("/wc-ppcp/v1/vault/setup-tokens"),data:f({context:this.getPage(),payment_method:this.id},t)}).then((function(e){return e.id})).catch((function(t){e.currentError=t,e.enableButtons()}))}},{key:"onShippingChange",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,u.convertPayPalAddressToCart)((null==e?void 0:e.shipping_address)||{},!0),o=(0,u.extractShippingMethod)((null==e||null===(n=e.selected_shipping_option)||void 0===n?void 0:n.id)||"");return a()({method:"POST",url:(0,u.getRestRoute)("cart/shipping"),data:f({order_id:e.orderID,address:i,shipping_method:o,payment_method:this.id},r)}).then((function(e){return e.code?t.reject():t.resolve()})).catch((function(e){return t.reject()}))}},{key:"submitError",value:function(e){}},{key:"getShippingPrefix",value:function(){return"shipping"}},{key:"getCartAddress",value:function(e){return{address_1:(0,u.getFieldValue)("address_1",e),address_2:(0,u.getFieldValue)("address_2",e),state:(0,u.getFieldValue)("state",e),city:(0,u.getFieldValue)("city",e),postcode:(0,u.getFieldValue)("postcode",e),country:(0,u.getFieldValue)("country",e)}}},{key:"getCartFullAddress",value:function(e){return{first_name:(0,u.getFieldValue)("first_name",e),last_name:(0,u.getFieldValue)("last_name",e),address_1:(0,u.getFieldValue)("address_1",e),address_2:(0,u.getFieldValue)("address_2",e),state:(0,u.getFieldValue)("state",e),city:(0,u.getFieldValue)("city",e),postcode:(0,u.getFieldValue)("postcode",e),country:(0,u.getFieldValue)("country",e)}}},{key:"onInit",value:function(e,t,n){this.actions[e]=n}},{key:"onClick",value:function(e,t){}},{key:"isPage",value:function(e){return this.getPage()===e}},{key:"getPage",value:function(){var e,t=null===(e=(0,u.getSetting)("generalData"))||void 0===e?void 0:e.page;return"cart"==t&&i()(document.body).is(".woocommerce-checkout")&&(t="checkout"),t}},{key:"populateShippingAddressFields",value:function(e){for(var t in e)(0,u.setFieldValue)(t,e[t],"shipping")}},{key:"populateBillingAddressFields",value:function(e){for(var t in e)(0,u.setFieldValue)(t,e[t],"billing")}},{key:"populateNameFields",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Array.isArray(e)){var i=d(e,2);t=i[0],n=i[1]}else t=e.given_name,n=e.surname;(0,u.setFieldValue)("first_name",t,r),(0,u.setFieldValue)("last_name",n,r)}},{key:"populateCheckoutFields",value:function(e){var t,n,r,i,o,a,c,l;if(!(0,s.isEmpty)(null==e||null===(t=e.payer)||void 0===t?void 0:t.address)){var d=(0,u.convertPayPalAddressToCart)(e.payer.address);this.populateBillingAddressFields(d)}if(null!=e&&null!==(n=e.payer)&&void 0!==n&&n.name&&this.populateNameFields(e.payer.name,"billing"),null!=e&&null!==(r=e.payer)&&void 0!==r&&r.email_address&&(0,u.setFieldValue)("billing_email",e.payer.email_address),null!=e&&null!==(i=e.payer)&&void 0!==i&&null!==(o=i.phone)&&void 0!==o&&null!==(a=o.phone_number)&&void 0!==a&&a.national_number&&((0,u.setFieldValue)("billing_phone",e.payer.phone.phone_number.national_number),(0,u.setFieldValue)("shipping_phone",e.payer.phone.phone_number.national_number)),this.needsShipping()&&null!=e&&null!==(c=e.purchase_units)&&void 0!==c&&null!==(l=c[0])&&void 0!==l&&l.shipping){var p,h,f=(0,u.convertPayPalAddressToCart)(e.purchase_units[0].shipping.address);if(this.populateShippingAddressFields(f),null!==(p=e.purchase_units[0].shipping)&&void 0!==p&&null!==(h=p.name)&&void 0!==h&&h.full_name){var y=(0,u.extractFullName)(e.purchase_units[0].shipping.name.full_name);this.populateNameFields(y,"shipping")}(0,u.isValidAddress)(this.getCartFullAddress("billing"),["phone","email"])||this.populateBillingAddressFields(f)}}},{key:"processCartCheckout",value:function(){var e=this;return this.showProcessing(),a()({method:"POST",url:(0,u.getRestRoute)("cart/checkout"),data:this.getCartCheckoutData()}).then((function(t){if(t.result&&"success"==t.result)window.location=t.redirect;else if(t.messages)return e.submitError(t.messages)})).catch((function(t){t.code&&e.submitError(t.message)}))}},{key:"getCartCheckoutData",value:function(){return f({payment_method:this.id,context:this.getPage()},(0,u.fieldsToJson)())}},{key:"getProcessingSelector",value:function(){return"body"}},{key:"showProcessing",value:function(){var e;null===(e=i()(this.getProcessingSelector()))||void 0===e||e.block({message:this.getProcessingMessage(),overlayCSS:{background:"#fff",opacity:.6}})}},{key:"hideProcessing",value:function(){var e;null===(e=i()(this.getProcessingSelector()))||void 0===e||e.unblock()}},{key:"getProcessingMessage",value:function(){return'<div class="wc-ppcp-loader">\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                      </div>'}},{key:"getFullName",value:function(e){var t=[(0,u.getFieldValue)("first_name",e),(0,u.getFieldValue)("last_name",e)].filter(Boolean);return 0==t.length?null:1==t.length?t[0]:"".concat(t[0]," ").concat(t[1])}}],n&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const g=/^(129|271|577|815|966)$/.test(n.j)?m:null},699:(e,t,n)=>{n.d(t,{d:()=>L});var r=n(567),i=n.n(r),o=n(907),a=n(602);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){f=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=_(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function p(){}function h(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==t&&n.call(g,i)&&(v=g);var b=y.prototype=p.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(i,o,a,u){var s=l(e[i],e,o);if("throw"!==s.type){var d=s.arg,p=d.value;return p&&"object"==c(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(p).then((function(e){d.value=e,a(d)}),(function(e){return r("throw",e,a,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=y,u(b,"constructor",y),u(y,"constructor",h),h.displayName=u(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(b),u(b,a,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function y(e,t,n,r,i,o,a){try{var c=e[o](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,c,"next",e)}function c(e){y(o,r,i,a,c,"throw",e)}a(void 0)}))}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function b(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function _(e,t){O(e,t),t.add(e)}function P(e,t,n){O(e,t),t.set(e,n)}function O(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function C(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,F(e,t,"set"),n),n}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function E(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,F(e,t,"get"))}function F(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var j=new WeakMap,x=new WeakMap,T=new WeakMap,A=new WeakMap,V=new WeakSet,R=new WeakSet,B=new WeakSet,N=new WeakSet,L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(y,e);var t,n,r,a,c,l,d=(c=y,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(c);if(l){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function y(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),_(k(t=d.call(this,e)),N),_(k(t),B),_(k(t),R),_(k(t),V),P(k(t),j,{writable:!0,value:void 0}),P(k(t),x,{writable:!0,value:void 0}),P(k(t),T,{writable:!0,value:{name:{isEmpty:!0,isValid:!0,isRequired:!1},number:{isEmpty:!0,isValid:!1,isRequired:!0},cvv:{isEmpty:!0,isValid:!1,isRequired:!0},expiry:{isEmpty:!0,isValid:!1,isRequired:!0}}}),P(k(t),A,{writable:!0,value:{xs:[0,600],sm:[600,900],md:[900,1200],lg:[1200,1/0]}});var n=e.cart;return t.cart=n,t.cardFields=[],t.isFastlane=!1,t.mappings=[["nameField","NameField",t.getCardNameFieldContainer(),""],["numberField","NumberField",t.getNumberFieldContainer(),"cardNumberField"],["cvvField","CVVField",t.getCVVFieldContainer(),"cardCvvField"],["expiryField","ExpiryField",t.getExpiryFieldContainer(),"cardExpiryField"]],E(k(t),T).name.isRequired=t.settings.cardNameRequired,t}return t=y,n=[{key:"initialize",value:(a=v(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("resize",this.onWindowResize.bind(this)),(0,o.isCheckout)()?(i()("form.checkout").on("checkout_place_order_ppcp_card",this.handleCheckoutSubmit.bind(this)),i()(document.body).on("payment_method_selected",this.onPaymentMethodSelected.bind(this))):(i()(document.body).on("click","#place_order",this.onClickPlaceOrder.bind(this)),i()(document.body).on("click",'input[name="payment_method"]',this.onPaymentMethodSelected.bind(this))),i()(document.body).on("checkout_error",this.onCheckoutError.bind(this)),this.cart.on("updatedCheckout",this.onUpdatedCheckout.bind(this)),e.next=6,this.loadPayPalSDK();case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"loadPayPalSDK",value:(r=v(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.loadPayPalSdk)((0,o.getPayPalQueryParams)());case 3:this.paypal=e.sent,this.createCardElement(),this.mountCardElementFields(),this.addBreakpointClasses(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error loading PayPal SDK. ",e.t0),(0,o.submitErrorMessage)(e.t0,this.getForm(),"checkout");case 13:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return r.apply(this,arguments)})},{key:"createCardElement",value:function(){this.needsNewCardElement()&&(this.cardElement=this.paypal.CardFields(this.getCardFieldOptions()))}},{key:"getCardFieldOptions",value:function(){var e=this,t=this.paypal.FUNDING.CARD;return p({fundingSource:t,inputEvents:this.getInputEvents(),style:this.settings.styles,onApprove:this.getOnApprove(t),onCancel:this.getOnCancel(t),onError:this.getOnError(t),onDestroy:this.getOnDestroy(t),createOrder:function(t,n){return e.createOrder(t,n)}},this.settings.needsSetupToken&&{createOrder:null,createVaultSetupToken:this.createVaultSetupToken.bind(this)})}},{key:"needsNewCardElement",value:function(){return!this.cardElement||S(this,V,I).call(this,!0).some((function(e){return 0===e.find("iframe").length}))}},{key:"mountCardElementFields",value:function(){if(this.cardElement)if(this.cardElement.isEligible()){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(this.mappings);try{for(t.s();!(e=t.n()).done;){var n=u(e.value,3),r=n[0],a=n[1],c=n[2],l=i()(c);if(l.length&&!l.find("iframe").length){this[r]=this.cardElement[a](this.settings.fields[r]);var d="#"+l.attr("id");this[r].render(d)}}}catch(e){t.e(e)}finally{t.f()}}else{var p=(0,o.isAdminUser)()?this.settings.i18n.not_available_admin:this.settings.i18n.not_available;i()(".wc-ppcp-card-payment-method__container").hide(),i()(".wc-ppcp-card-payment-form .woocommerce-info").remove(),i()(".wc-ppcp-card-payment-form").prepend('<div class="woocommerce-info"><p>'.concat(p,"</p></div>"))}}},{key:"onUpdatedCheckout",value:function(){this.loadPayPalSDK()}},{key:"onWindowResize",value:function(e){var t=this;this.windowResizeTimeout&&clearTimeout(this.windowResizeTimeout),this.windowResizeTimeout=setTimeout((function(){return t.addBreakpointClasses()}),100)}},{key:"handleCheckoutSubmit",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,o.isCheckout)()){if(this.fastlaneToken)return!0;if(this.isFastlane&&E(this,x)&&this.settings.needsSetupToken)return n.blockOnSubmit&&n.blockOnSubmit(this.getForm()),this.createPaymentToken(E(this,x),{fastlane:!0}).then((function(e){(0,o.setFieldValue)("ppcp_card_payment_token",e.id,null),t.fastlaneToken=e.id,t.getForm().submit()})).catch((function(e){var r,i;t.submitError(e),null==n||null===(r=n.$checkout_form)||void 0===r||null===(i=r.removeClass("processing"))||void 0===i||i.unblock()})),!1}if(E(this,j)||E(this,x)||this.isSavedPaymentMethodSelected())return!0;try{this.validateCheckoutForm(),this.validateCardFields(),this.createPaymentMethod()}catch(t){return(0,o.submitErrorMessage)(t,this.getForm(),"checkout"),this.enablePlaceOrderButton(e),!1}return!1}},{key:"onClickPlaceOrder",value:function(e){this.isPaymentGatewaySelected()&&(this.isSavedPaymentMethodSelected()||(e.preventDefault(),this.createPaymentMethod(e)))}},{key:"onCheckoutError",value:function(e,t){this.isPaymentGatewaySelected()&&(this.enablePlaceOrderButton(),this.isFastlane||(C(this,j,null),C(this,x,null),this.fastlaneToken=null))}},{key:"createPaymentMethod",value:function(e){var t=this;this.cardElement&&(this.disablePlaceOrderButton(e),this.cardElement.submit(this.getCreatePaymentMethodProps()).catch((function(n){return t.enablePlaceOrderButton(e),null!=n&&n.message&&["INVALID_NUMBER","INVALID_EXPIRY","INVALID_CVV"].includes(n.message)?t.showCardFieldErrors(n.message):t.submitError(n)})))}},{key:"createOrder",value:function(e,t){if((0,o.isCheckout)()){var n=p(p({},(0,o.convertFormToData)(this.getForm())),{},{context:"checkout",payment_method:this.id});return this.cart.createOrder(n)}return this.cart.doOrderPay(this.id,h({},"".concat(this.id,"_save_payment"),this.isSavePaymentMethodChecked()))}},{key:"onApprove",value:function(e){var t=this;e.orderID&&this.setOrderId(e.orderID),e.vaultSetupToken?(this.createPaymentToken(e.vaultSetupToken).then((function(e){t.setPaymentToken(e.id),(0,o.setFieldValue)("".concat(t.id,"_payment_token"),e.id,null),t.getForm().submit()})).catch((function(e){return t.submitError(null==e?void 0:e.message)})).finally((function(){t.enablePlaceOrderButton()})),(0,o.setFieldValue)("".concat(this.id,"_payment_token"),e.vaultSetupToken,null)):this.getForm().submit()}},{key:"enableButtons",value:function(){this.enablePlaceOrderButton()}},{key:"submitError",value:function(e){return"validation_errors"===(null==e?void 0:e.code)?(0,o.submitErrorMessage)(e.data.messages,this.getForm(),"checkout"):(0,o.submitErrorMessage)(e,this.getForm(),"checkout")}},{key:"setOrderId",value:function(e){C(this,j,e),(0,o.setFieldValue)(this.order_field_key,e,null)}},{key:"getForm",value:function(){return(0,o.isCheckout)()?i()("form.checkout"):i()(this.getNumberFieldContainer()).closest("form")}},{key:"getCardNameFieldContainer",value:function(){return"#ppcp-card-name"}},{key:"getNumberFieldContainer",value:function(){return"#ppcp-card-number"}},{key:"getCVVFieldContainer",value:function(){return"#ppcp-card-cvv"}},{key:"getExpiryFieldContainer",value:function(){return"#ppcp-card-exp"}},{key:"disablePlaceOrderButton",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?i()(e.currentTarget).prop("disabled",!0):i()('form.checkout button[type="submit"]').prop("disabled",!0)}},{key:"enablePlaceOrderButton",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?i()(e.currentTarget).prop("disabled",!1):i()('form.checkout button[type="submit"]').prop("disabled",!1)}},{key:"getInputEvents",value:function(){return{onChange:this.onCardFieldChange.bind(this),onFocus:this.onCardFieldFocus.bind(this),onBlur:this.onCardFieldBlur.bind(this)}}},{key:"onCardFieldChange",value:function(e){var t=e.fields,n=(e.errors,e.emittedBy),r=u(S(this,N,z).call(this,n,t),2),i=r[0],o=r[1];E(this,T)[n]=p(p({},E(this,T)[n]),o),o.isEmpty;var a=o.isValid,c=void 0!==a&&a;this.hideCardFieldError(i.attr("id")),c?(i.removeClass("card-field--invalid"),i.addClass("card-field--valid")):i.removeClass("card-field--valid")}},{key:"onCardFieldFocus",value:function(e){var t=this,n=e.fields,r=(e.errors,e.emittedBy),i=S(this,R,D).call(this,r),o=u(S(this,N,z).call(this,r,n),2),a=o[0];o[1],this.mappings.forEach((function(e){t[e[0]]&&t[e[0]].removeClass("focused")})),S(this,V,I).call(this).forEach((function(e){e.removeClass("card-field--focused")})),i.addClass("focused"),a.addClass("card-field--focused")}},{key:"onCardFieldBlur",value:function(e){var t=e.fields,n=(e.errors,e.emittedBy),r=u(S(this,N,z).call(this,n,t),2),i=r[0],o=r[1],a=S(this,R,D).call(this,n);a.removeClass("focused"),i.removeClass("card-field--focused");var c=o.isValid;o.isEmpty?(i.removeClass("card-field--invalid"),a.removeClass("invalid"),this.hideCardFieldError(i.attr("id"))):c||(i.removeClass("card-field--valid"),i.addClass("card-field--invalid"),this.showCardFieldError(S(this,B,M).call(this,n)))}},{key:"addBreakpointClasses",value:function(){var e=this,t=i()("li.payment_method_".concat(this.id));if(t.length){var n=t.outerWidth(!0),r="";switch(Object.keys(E(this,A)).forEach((function(e){t.removeClass("card-field-container--".concat(e))})),Object.keys(E(this,A)).find((function(t){var r=u(E(e,A)[t],2),i=r[0],o=r[1];if(i<n&&o>n)return t}))){case"xs":r="card-field-container--xs";break;case"sm":r="card-field-container--sm";break;case"md":r="card-field-container--md";break;case"lg":r="card-field-container--lg"}t.addClass(r)}}},{key:"showCardFieldError",value:function(e){if(this.settings.i18n.error_codes[e]){var t,n=this.settings.i18n.error_codes[e];switch(e){case"INVALID_NAME":t=i()("[data-parent='".concat(this.getCardNameFieldContainer().slice(1),"']"));break;case"INVALID_NUMBER":t=i()("[data-parent='".concat(this.getNumberFieldContainer().slice(1),"']"));break;case"INVALID_EXPIRY":t=i()("[data-parent='".concat(this.getExpiryFieldContainer().slice(1),"']"));break;case"INVALID_CVV":t=i()("[data-parent='".concat(this.getCVVFieldContainer().slice(1),"']"))}t&&(t.html('<span class="error-content">'.concat(n,"</span>")),t.animate({"max-height":"100px",opacity:"1"},"350ms"))}}},{key:"showCardFieldErrors",value:function(){var e=this;Object.keys(E(this,T)).forEach((function(t){var n=E(e,T)[t],r=n.isValid,i=n.isEmpty;if(n.isRequired&&(!r||i)){var o=u(S(e,N,z).call(e,t),1)[0],a=S(e,B,M).call(e,t),c=S(e,R,D).call(e,t);e.showCardFieldError(a),o.addClass("card-field--invalid"),c.addClass("invalid")}}))}},{key:"hideCardFieldError",value:function(e){i()("[data-parent='".concat(e,"']")).animate({"max-height":"0",opacity:"0"},350)}},{key:"isPaymentGatewaySelected",value:function(){var e;return(null===(e=i()('[name="payment_method"]:checked'))||void 0===e?void 0:e.val())===this.id}},{key:"isSavedPaymentMethodSelected",value:function(){var e='[name="wc-'.concat(this.id,'-payment-token"]:checked');return this.isPaymentGatewaySelected()&&i()(e).length>0&&"new"!==i()(e).val()}},{key:"getCreatePaymentMethodProps",value:function(){return(0,o.isCheckout)()&&!this.settings.needsSetupToken?{billingAddress:{addressLine1:(0,o.getFieldValue)("billing_address_1"),addressLine2:(0,o.getFieldValue)("billing_address_2"),adminArea1:(0,o.getFieldValue)("billing_state"),adminArea2:(0,o.getFieldValue)("billing_city"),postalCode:(0,o.getFieldValue)("billing_postcode"),countryCode:(0,o.getFieldValue)("billing_country")}}:{}}},{key:"onPaymentMethodSelected",value:function(){this.isPaymentGatewaySelected()&&this.showPlaceOrderButton()}},{key:"showPlaceOrderButton",value:function(){i()("#place_order").removeClass("wc-ppcp-hide-button")}},{key:"setPaymentToken",value:function(e){C(this,x,e)}},{key:"validateCheckoutForm",value:function(){if(i()('[name="terms"]').length&&!i()('[name="terms"]').is(":checked"))throw new Error((0,o.getErrorMessage)({code:"terms"}))}},{key:"validateCardFields",value:function(){var e=this,t=!1;if(Object.keys(E(this,T)).forEach((function(n){var r=E(e,T)[n],i=r.isValid,o=r.isEmpty;if(r.isRequired&&(!i||o)){var a=u(S(e,N,z).call(e,n),1)[0],c=S(e,B,M).call(e,n),s=S(e,R,D).call(e,n);e.showCardFieldError(c),a.addClass("card-field--invalid"),s.addClass("invalid"),t=!0}})),t)throw new Error(this.settings.i18n.incomplete_card_form)}},{key:"setIsFastlane",value:function(e){this.isFastlane=e}},{key:"isSavePaymentMethodChecked",value:function(){return i()('[name="'.concat(this.id,'_save_payment"]')).is(":checked")}}],n&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),y}(a.Z);function I(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[!e&&i()(this.getCardNameFieldContainer()),i()(this.getNumberFieldContainer()),i()(this.getExpiryFieldContainer()),i()(this.getCVVFieldContainer())].filter(Boolean);return t}function D(e){return this[this.mappings.find((function(t){return u(t,1)[0].slice(0,e.length)===e}))[0]]}function M(e){var t;switch(e){case"name":t="INVALID_NAME";break;case"number":t="INVALID_NUMBER";break;case"expiry":t="INVALID_EXPIRY";break;case"cvv":t="INVALID_CVV"}return t}function z(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"name":n=r.cardNameField,t=i()(this.getCardNameFieldContainer());break;case"number":n=r.cardNumberField,t=i()(this.getNumberFieldContainer());break;case"expiry":n=r.cardExpiryField,t=i()(this.getExpiryFieldContainer());break;case"cvv":n=r.cardCvvField,t=i()(this.getCVVFieldContainer())}return[t,n]}},951:(e,t,n)=>{n.d(t,{ZC:()=>r.Z,tC:()=>S,Oq:()=>g,K3:()=>G,o4:()=>R});var r=n(602),i=n(567),o=n.n(i),a=n(907),c=n(819);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=f(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},h.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(s,e);var t,n,r,i,u=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(i){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=u.call(this,t)).cart=e,n.shippingAddressChanged=!1,n.initialize(),n}return t=s,n=[{key:"initialize",value:function(){h(m(s.prototype),"initialize",this).call(this),this.setVariable("readyToCheckout",!1),this.actions={},this.cart.on("updatedCheckout",this.updatedCheckout.bind(this)),(0,a.isCheckout)()?o()(document.body).on("payment_method_selected",this.paymentMethodSelected.bind(this)):o()(document.body).on("click",'input[name="payment_method"]',this.paymentMethodSelected.bind(this)),o()(document.body).on("checkout_place_order_".concat(this.id),this.validateCheckoutFields.bind(this)),o()(document.body).on("click",".wc-ppcp-cancel__payment",this.cancelPayment.bind(this)),o()(document.body).on("change",'[name="terms"]',this.handleTermsClick.bind(this)),o()(document.body).on("change",'[type="checkbox"]',this.handleCheckboxChange.bind(this)),o()(document.body).on("change",'[name="wc-ppcp-payment-token"]',this.onPaymentTokenClick.bind(this)),window.addEventListener("hashchange",this.handleHashError.bind(this)),this.handleOrderPay()}},{key:"needsShipping",value:function(){return"order_pay"!==(0,a.getPage)()&&this.cart.needsShipping()}},{key:"getFunding",value:function(){var e=h(m(s.prototype),"getFunding",this).call(this);return this.isFundingActive("venmo")&&this.isSectionEnabled("venmo","checkout")&&e.push(paypal.FUNDING.VENMO),e}},{key:"updatedCheckout",value:function(){h(m(s.prototype),"initialize",this).call(this),this.paymentMethodSelected(),(this.isOrderReview()||this.isReadyToCheckout())&&this.displayPaymentReadyMessage()}},{key:"paymentMethodSelected",value:function(){this.isPaymentGatewaySelected()&&!this.isReadyToCheckout()?this.isSavedPaymentMethodSelected()?this.displayPlaceOrderButton():this.displayPaymentButton():this.hidePaymentButton()}},{key:"handleHashError",value:function(e){var t=e.newURL.match(/ppcp_error=(.*)/);t&&"true"==t[1]&&(this.displayPaymentButton(),history.pushState({},"",window.location.pathname+window.location.search))}},{key:"isOrderReview",value:function(){var e,t,n,r=null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.search)||void 0===n?void 0:n.match(/_ppcp_order_review=(.*)/);return(null==r?void 0:r.length)>0}},{key:"handleOrderPay",value:function(){if(this.isOrderReview())try{var e,t,n,r,i=(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.search)||void 0===n?void 0:n.match(/_ppcp_order_review=(.*)/))[1],u=JSON.parse(atob(decodeURIComponent(i))),s=(u.payment_method,u.paypal_order),l=u.fields;if((0,a.setFieldValue)(this.order_field_key,s,""),!(0,c.isEmpty)(l))for(var d in l)(0,a.setFieldValue)(d,l[d],"");if(this.setVariable("readyToCheckout",!0),this.hidePaymentButton(),this.needsShipping()&&null!==(r=o()('[name="ship_to_different_address"]'))&&void 0!==r&&r.length){var p=!(0,c.isEqual)(this.getCartAddress("billing"),this.getCartAddress("shipping"));o()('[name="ship_to_different_address"]').prop("checked",p).trigger("change")}}catch(e){console.log(e)}}},{key:"createOrder",value:function(e,t){if(this.isPage("checkout")){var n=l(l({},this.convertFormToData()),{},{context:this.getPaymentType(),payment_method:this.id});return this.cart.createOrder(n)}return this.cart.doOrderPay(this.id)}},{key:"createVaultSetupToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isPage("checkout")&&(e=l(l({},this.convertFormToData()),{},{context:this.getPaymentType(),payment_method:this.id})),h(m(s.prototype),"createVaultSetupToken",this).call(this,e)}},{key:"createButton",value:function(){h(m(s.prototype),"createButton",this).call(this),this.paymentMethodSelected()}},{key:"displayPaymentButton",value:function(){var e;null===(e=this.getButton())||void 0===e||e.show(),this.hidePlaceOrderButton()}},{key:"hidePaymentButton",value:function(){var e;null===(e=this.getButton())||void 0===e||e.hide(),this.displayPlaceOrderButton()}},{key:"displayPlaceOrderButton",value:function(){var e;null===(e=this.getPlaceOrderButton())||void 0===e||e.removeClass("wc-ppcp-hide-button")}},{key:"hidePlaceOrderButton",value:function(){var e;null===(e=this.getPlaceOrderButton())||void 0===e||e.addClass("wc-ppcp-hide-button")}},{key:"getPlaceOrderButton",value:function(){var e=o()("#place_order");return e.length||(e=o()('[name="woocommerce_checkout_place_order"]')),e.length||(e=o()('form.checkout button[type="submit"]')),e.length||(e=o()('form[id="order_review"] button[type="submit"]')),e}},{key:"getButtonPlacement",value:function(){var e;return(null===(e=this.settings)||void 0===e?void 0:e.buttonPlacement)||"place_order"}},{key:"isPlaceOrderPlacement",value:function(){return"place_order"==this.getButtonPlacement()}},{key:"getButtonContainer",value:function(){switch(this.getButtonPlacement()){case"place_order":o()(".wc-ppcp-checkout-container").length||this.getPlaceOrderButton().after('<div class="wc-ppcp-checkout-container"></div>');break;case"payment_method":o()("div.payment_method_".concat(this.id)),o()(".wc-ppcp-payment-method__container").append('<div class="wc-ppcp-checkout-container"></div>')}return document.querySelector(".wc-ppcp-checkout-container")}},{key:"isPaymentGatewaySelected",value:function(){var e;return(null===(e=o()('[name="payment_method"]:checked'))||void 0===e?void 0:e.val())===this.id}},{key:"submitError",value:function(e){return"validation_errors"===(null==e?void 0:e.code)?(0,a.submitErrorMessage)(e.data.messages,this.getForm(),"checkout"):(0,a.submitErrorMessage)(e,this.getForm(),"checkout")}},{key:"getShippingPrefix",value:function(){var e;return null!==(e=o()('[name="ship_to_different_address"]'))&&void 0!==e&&e.length&&o()('[name="ship_to_different_address"]').is(":checked")?"shipping":"billing"}},{key:"handleOnApproveResponse",value:function(e,t){this.populateCheckoutFields(t),this.processCheckout(e,t)}},{key:"processCheckout",value:function(e,t){var n=this;this.hidePaymentButton(),this.setVariable("readyToCheckout",!0),this.update_required?(o()(document.body).one("updated_checkout",(function(){e.vaultSetupToken&&n.needsShipping()?n.displayPaymentReadyMessage():n.submitCheckoutForm(t)})),o()('[name="billing_country"],[name="billing_state"]').trigger("change"),this.shipToDifferentAddressChecked()&&o()('[name="shipping_country"],[name="shipping_state"]').trigger("change"),o()(document.body).trigger("update_checkout",{update_shipping_method:!1})):this.submitCheckoutForm(t)}},{key:"handlePaymentToken",value:function(e,t){this.update_required=this.isCheckoutReviewRequired(e),h(m(s.prototype),"handlePaymentToken",this).call(this,e),this.maybeShipToDifferentAddress(),this.processCheckout(t)}},{key:"isCheckoutReviewRequired",value:function(e){return!(!this.needsShipping()||this.isPayPalAddressDisabled()||(0,c.isEmpty)(e.shipping_address)||(0,c.isEqual)({city:e.shipping_address.city,state:e.shipping_address.state,postal_code:e.shipping_address.postal_code,country_code:e.shipping_address.country_code},{city:(0,a.getFieldValue)("shipping_city"),state:(0,a.getFieldValue)("shipping_state"),postal_code:(0,a.getFieldValue)("shipping_postcode"),country_code:(0,a.getFieldValue)("shipping_country")}))}},{key:"populateCheckoutFields",value:function(e){var t,n,r,i,u,s,l=this;if(!this.isAddressPopulationDisabled()&&!(0,c.isEmpty)(null==e||null===(t=e.payer)||void 0===t?void 0:t.address)){var d=(0,a.convertPayPalAddressToCart)(e.payer.address);(0,a.isValidAddress)(d,["first_name","last_name"])&&!(0,c.isEqual)(this.getCartAddress("billing"),d)&&this.populateBillingAddressFields(d)}if(null!=e&&null!==(n=e.payer)&&void 0!==n&&n.name&&((0,a.isValid)("billing_first_name")||this.populateNameFields(e.payer.name,"billing")),null!=e&&null!==(r=e.payer)&&void 0!==r&&r.email_address&&!(0,a.isValid)("billing_email")&&(0,a.setFieldValue)("billing_email",e.payer.email_address),null!=e&&null!==(i=e.payer)&&void 0!==i&&null!==(u=i.phone)&&void 0!==u&&null!==(s=u.phone_number)&&void 0!==s&&s.national_number&&((0,a.setFieldValue)("billing_phone",e.payer.phone.phone_number.national_number),this.needsShipping()&&(0,a.setFieldValue)("shipping_phone",e.payer.phone.phone_number.national_number)),!this.isAddressPopulationDisabled()&&this.needsShipping()){var p,h,f;if(!(0,c.isEmpty)(null==e||null===(p=e.purchase_units)||void 0===p||null===(h=p[0])||void 0===h||null===(f=h.shipping)||void 0===f?void 0:f.address)){var y,v,m=(0,a.convertPayPalAddressToCart)(e.purchase_units[0].shipping.address),g="";(0,c.isEqual)(this.cartAddress,m)||(this.update_required=!0,this.cartAddress=m,this.populateShippingAddressFields(m),o()(document.body).one("updated_checkout",(function(){return l.populateShippingAddressFields(m)}))),null!==(y=e.purchase_units[0].shipping)&&void 0!==y&&null!==(v=y.name)&&void 0!==v&&v.full_name&&(g=(0,a.extractFullName)(e.purchase_units[0].shipping.name.full_name),this.populateNameFields(g,"shipping")),(0,a.isValidAddress)(this.getCartFullAddress("billing"),["phone","email"])||(!g||(0,a.isValid)("billing_first_name")||(0,a.isValid)("billing_last_name")||this.populateNameFields(g,"billing"),this.populateBillingAddressFields(m))}this.maybeShipToDifferentAddress()}}},{key:"maybeShipToDifferentAddress",value:function(){var e;if(null!==(e=o()('[name="ship_to_different_address"]'))&&void 0!==e&&e.length){var t=!(0,c.isEqual)(l(l({},this.getCartAddress("billing")),{},{name:this.getFullName("billing")}),l(l({},this.getCartAddress("shipping")),{},{name:this.getFullName("shipping")}));o()('[name="ship_to_different_address"]').prop("checked",t).trigger("change")}}},{key:"getForm",value:function(){return this.isPage("checkout")?o()(this.container).closest("form.checkout"):o()(this.container).closest("form")}},{key:"validateTerms",value:function(){return!o()('[name="terms"]').length||o()('[name="terms"]').is(":checked")}},{key:"validateCheckoutFields",value:function(){return!!this.validateTerms()||(this.submitError({code:"terms"}),!1)}},{key:"handleTermsClick",value:function(){this.isPlaceOrderPlacement()&&o()('[name="terms"]').length&&(o()('[name="terms"]').is(":checked")?this.enableButtons():this.disableButtons())}},{key:"handleCheckboxChange",value:function(){setTimeout(this.handleTermsClick.bind(this),250)}},{key:"onPaymentTokenClick",value:function(e){this.isSavedPaymentMethodSelected()?this.hidePaymentButton():this.displayPaymentButton()}},{key:"onInit",value:function(e,t,n){h(m(s.prototype),"onInit",this).call(this,e,t,n),this.handleTermsClick()}},{key:"onClick",value:function(e,t){this.isPlaceOrderPlacement()&&!this.validateTerms()&&this.submitError({code:"terms"})}},{key:"onShippingChange",value:function(e,t){var n,r;if(null!=e&&null!==(n=e.selected_shipping_option)&&void 0!==n&&n.id){r=(0,a.extractShippingMethod)(e.selected_shipping_option.id);for(var i=0,u=Object.keys(r);i<u.length;i++){var l=u[i],d=r[l],p=o()('[name="shipping_method['.concat(l,']"][value="').concat(d,'"]'));p.length&&p.prop("checked",!0)}}return e.shipping_address&&(this.shippingAddressChanged=!(0,c.isEqual)((0,a.convertPayPalAddressToCart)(e.shipping_address,!0),{city:(0,a.getFieldValue)("shipping_city"),state:(0,a.getFieldValue)("shipping_state"),postcode:(0,a.getFieldValue)("shipping_postcode"),country:(0,a.getFieldValue)("shipping_country")})),this.cart.trigger("checkout_on_shipping_change",e,r,this),h(m(s.prototype),"onShippingChange",this).call(this,e,t,this.convertFormToData())}},{key:"shipToDifferentAddressChecked",value:function(){var e;return!(null===(e=o()('[name="ship_to_different_address"]'))||void 0===e||!e.length)&&o()('[name="ship_to_different_address"]').is(":checked")}},{key:"displayPaymentReadyMessage",value:function(){o()(".wc-ppcp-popup__container").hide(),o()(".wc-ppcp-order-review-message__container").show();var e=o()(".wc-ppcp-order-review__message").text().replace("%s",o()("#place_order").text());o()(".wc-ppcp-order-review__message").text(e)}},{key:"hidePaymentReadyMessage",value:function(){o()(".wc-ppcp-popup__container").show(),o()(".wc-ppcp-order-review-message__container").hide()}},{key:"cancelPayment",value:function(e){e.preventDefault(),this.setVariable("readyToCheckout",!1),this.hidePaymentReadyMessage(),this.displayPaymentButton()}},{key:"getProcessingSelector",value:function(){return this.container}},{key:"getProcessingMessage",value:function(){return null}},{key:"fetchBillingToken",value:function(e){var t=this;return this.showProcessing(),h(m(s.prototype),"fetchBillingToken",this).call(this,e).then((function(e){return t.hideProcessing(),e}))}},{key:"isReadyToCheckout",value:function(){return this.getVariable("readyToCheckout",!1)}},{key:"convertFormToData",value:function(){return o()("form.checkout").serializeArray().reduce((function(e,t){return l(l({},e),{},d({},t.name,t.value))}),{})}},{key:"submitCheckoutForm",value:function(e){this.cart.applyFilters("checkout_submit_form",!0,e,this)&&this.getForm().submit()}},{key:"getPaymentType",value:function(){return"checkout"}},{key:"isPayPalAddressDisabled",value:function(){return this.settings.paypalAddressDisabled}},{key:"isValidationEnabled",value:function(){return this.settings.checkoutValidationEnabled}},{key:"isAddressPopulationDisabled",value:function(){return this.isPayPalAddressDisabled()||!this.shippingAddressChanged}},{key:"isSavedPaymentMethodSelected",value:function(){var e='[name="wc-'.concat(this.id,'-payment-token"]:checked');return this.isPaymentGatewaySelected()&&o()(e).length>0&&"new"!==o()(e).val()}}],n&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.C);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},w.apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function O(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(u,e);var t,n,r,i,c=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(i){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=c.call(this,t)).cart=e,n.initialize(),n}return t=u,n=[{key:"initialize",value:function(){this.cart.on("cartUpdated",this.onCartUpdated.bind(this)),o()(window).on("resize",this.doCartHtml.bind(this)),w(C(u.prototype),"initialize",this).call(this),this.doCartHtml()}},{key:"onInit",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=w(C(u.prototype),"onInit",this)).call.apply(e,[this].concat(n)),this.cart.trigger("cartButtonOnInit")}},{key:"needsShipping",value:function(){return this.cart.needsShipping()}},{key:"getButtonContainer",value:function(){return document.getElementById("wc-ppcp-cart-button-container")}},{key:"onCartUpdated",value:function(){w(C(u.prototype),"initialize",this).call(this),this.doCartHtml()}},{key:"submitError",value:function(e){this.hideProcessing(),(0,a.submitErrorMessage)(e,"div.woocommerce-notices-wrapper","checkout")}},{key:"handlePaymentToken",value:function(e){w(C(u.prototype),"handlePaymentToken",this).call(this,e),this.processCartCheckout()}},{key:"createOrder",value:function(e,t){var n=this;return this.cart.createOrder({payment_method:this.id}).catch((function(e){return n.currentError=e,e}))}},{key:"doCartHtml",value:function(){var e=o()(".checkout-button"),t=e.outerWidth();t&&o()(".wc-ppcp-cart-payments__container").length&&o()(".wc-ppcp-cart-payments__container").width(t),"none"!==e.css("float")&&o()(".wc-ppcp-cart-payments__container ").css("float",e.css("float"))}}],n&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.C);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=x(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},j.apply(this,arguments)}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function A(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(u,e);var t,n,r,i,c=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(i){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return A(this,e)});function u(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=c.call(this,n)).product=e,r.cart=t,r.initialize(),r}return t=u,n=[{key:"initialize",value:function(){this.product.on("foundVariation",this.onFoundVariation.bind(this)),this.product.on("resetVariation",this.onResetVariation.bind(this)),this.setMaxWidth(),j(V(u.prototype),"initialize",this).call(this)}},{key:"onInit",value:function(){for(var e,t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(e=j(V(u.prototype),"onInit",this)).call.apply(e,[this].concat(i)),this.cart.trigger("productButtonOnInit"),this.product.isVariableProduct()&&(this.product.isVariationSelected()&&null!==(t=this.product)&&void 0!==t&&null!==(n=t.variation)&&void 0!==n&&n.is_in_stock?this.enableButtons():this.disableButtons(!0))}},{key:"setOptions",value:function(e){for(var t in e)this.setOption(t,e[t])}},{key:"needsShipping",value:function(){return this.product.needsShipping()}},{key:"getButtonContainer",value:function(){var e=document.querySelectorAll(".wc-ppcp-product-button-container");return e&&e.length>0?e:document.getElementById("wc-ppcp-product-button-container")}},{key:"setMaxWidth",value:function(){var e,t;if("add_to_cart"==(null===(e=this.settings)||void 0===e||null===(t=e.product)||void 0===t?void 0:t.button_width)){this.buttonWidth=o()("form.cart div.quantity").outerWidth(!0)+o()(".single_add_to_cart_button").outerWidth();var n=o()(".single_add_to_cart_button").css("marginLeft");n&&(this.buttonWidth+=parseInt(n.replace("px",""))),o()(this.container).css("max-width",this.buttonWidth+"px")}}},{key:"submitError",value:function(e){this.hideProcessing(),(0,a.submitErrorMessage)(e,"div.woocommerce-notices-wrapper")}},{key:"getFunding",value:function(){var e,t=[],n=(null===(e=this.settings)||void 0===e?void 0:e.funding)||[];return n.includes("paypal")&&t.push(paypal.FUNDING.PAYPAL),n.includes("paylater")&&t.push(paypal.FUNDING.PAYLATER),n.includes("card")&&t.push(paypal.FUNDING.CARD),this.getSortedFunding(t)}},{key:"addToCart",value:function(){var e=this;return this.cart.addToCart({payment_method:this.id,product_id:this.product.getId(),variation_id:this.product.getVariationId(),qty:this.product.getQuantity(),variation:this.product.getVariationData(),needs_setup_token:this.settings.needsSetupToken}).then((function(t){return t.code&&(e.currentError=t),t})).catch((function(t){return e.currentError=t,e.submitError(t)}))}},{key:"createOrder",value:function(e,t){return this.addToCart()}},{key:"createVaultSetupToken",value:function(e,t){var n=this;return this.addToCart().then((function(){return j(V(u.prototype),"createVaultSetupToken",n).call(n,e,t)}))}},{key:"handlePaymentToken",value:function(e){j(V(u.prototype),"handlePaymentToken",this).call(this,e),this.processCartCheckout()}},{key:"onFoundVariation",value:function(e,t){e?(this.destroyButtons(),this.createButton()):t.variation.is_in_stock?this.enableButtons():this.disableButtons(!0)}},{key:"onResetVariation",value:function(){this.disableButtons(!0)}}],n&&F(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.C);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=I(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},L.apply(this,arguments)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function M(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=z(r);if(i){var n=z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return M(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=a.call(this,t)).cart=e,n.retryCount=0,n.initialize(),n}return t=c,(n=[{key:"initialize",value:function(){this.cart.on("fragmentsChanged",this.onFragmentsChanged.bind(this)),o()(document.body).on("wc_ppcp_on_destroy",this.createButton.bind(this)),L(z(c.prototype),"initialize",this).call(this)}},{key:"needsShipping",value:function(){return this.cart.needsShipping()}},{key:"createButton",value:function(){if(!this.getButtonContainer()&&this.retryCount<10)return this.retryCount+=1,setTimeout(this.createButton.bind(this),500);L(z(c.prototype),"createButton",this).call(this)}},{key:"getButtonContainer",value:function(){var e=document.querySelectorAll(".wc-ppcp-minicart-".concat(this.id));return e&&e.length>0?e:(o()(".woocommerce-mini-cart__buttons").append('<a id="wc-ppcp-minicart-'.concat(this.id,'"></a>')),document.getElementById("wc-ppcp-minicart-".concat(this.id)))}},{key:"getPage",value:function(){return"minicart"}},{key:"handleBillingToken",value:function(e){L(z(c.prototype),"handleBillingToken",this).call(this,e),this.processCartCheckout()}},{key:"createOrder",value:function(e,t){return this.cart.createOrder({payment_method:this.id}).then((function(e){return e}))}},{key:"onFragmentsChanged",value:function(){this.cart.isEmpty()||L(z(c.prototype),"initialize",this).call(this)}}])&&N(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.C);n(699)},608:(e,t,n)=>{n.r(t);var r=n(567),i=n.n(r),o=n(455),a=n.n(o),c=n(676),u=(n(907),new(n(699).d)({cart:a(),id:"ppcp_card",context:"checkout"}));u.initialize().then((function(){i()((function(){i()(document.body).trigger("wc-credit-card-form-init")}))})),(0,c.registerPaymentMethod)(u)},367:(e,t,n)=>{n.r(t);var r=n(455),i=n.n(r),o=n(567),a=n.n(o),c=n(819),u=n(483),s=n(676),l=n(907);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(){y=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=_(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function p(){}function h(){}function f(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==t&&n.call(g,i)&&(v=g);var b=f.prototype=p.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(i,o,a,c){var u=s(e[i],e,o);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==d(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=f,c(b,"constructor",f),c(f,"constructor",h),h.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(b),c(b,a,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function v(e,t,n,r,i,o,a){try{var c=e[o](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){v(o,r,i,a,c,"next",e)}function c(e){v(o,r,i,a,c,"throw",e)}a(void 0)}))}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cart=t.cart,this.settings=t.settings,this.fastlane=null,this.components={},this.currentCard=null,this.canceledEmails=[],this.customerContextId=null}var t,n,r,i,o,d,p,f,v,b,k,w;return t=e,n=[{key:"initialize",value:function(){var e=this;this.addActions(),this.loadPayPalSDK().then(m(y().mark((function t(){var n;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createFastlaneInstance();case 2:return n=[],e.isFastlaneIconEnabled()&&n.push(e.mountFastlaneWatermark()),n.push(e.authenticateOnPageLoad()),t.next=7,Promise.all(n);case 7:case"end":return t.stop()}}),t)}))))}},{key:"isEmailDetectionEnabled",value:function(){return"email_detection"===this.settings.fastlane_flow}},{key:"isFastlaneIconEnabled",value:function(){return!!this.settings.fastlane_icon_enabled}},{key:"hasComponents",value:function(){return Object.keys(this.components).length>0}},{key:"addActions",value:function(){this.cart.on("updatedCheckout",this.onUpdatedCheckout.bind(this)),a()(document.body).on("input",'[name="billing_email"]',(0,l.debounce)(this.onEmailChange.bind(this),250)),a()(document.body).on("click",".wc-ppcp-fastlane-button",this.onFastlaneClick.bind(this)),a()(document.body).on("click",".wc-ppcp-fastlane-cancel",this.onCloseModal.bind(this)),a()(document.body).on("click",".wc-ppcp-fastlane-tokenize",this.onPaymentTokenize.bind(this)),a()(document.body).on("click",".wc-ppcp-tokenized-card-cancel",this.cancelTokenizedPayment.bind(this)),a()(document.body).on("click",".wc-ppcp-tokenized-card-change",this.changePaymentMethod.bind(this)),a()(document.body).on("click",".fastlane-signup-link-container",this.openFastlaneModal.bind(this)),a()(document.body).on("blur",".wc-ppcp-fastlane-modal-field",(function(e){a()(e.currentTarget).removeClass("focused")})),a()(document.body).on("keyup",".wc-ppcp-fastlane-modal-input",(function(e){a()(e.currentTarget).val()?a()(e.currentTarget).addClass("not-empty"):a()(e.currentTarget).removeClass("not-empty")}))}},{key:"loadPayPalSDK",value:(w=m(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.loadPayPalSdk)((0,l.getPayPalQueryParams)());case 3:this.paypal=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.info("Error loading paypal. ",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return w.apply(this,arguments)})},{key:"createFastlaneInstance",value:(k=m(y().mark((function e(){var t,n,r,i,o,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.paypal.Fastlane){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.paypal.Fastlane();case 5:this.fastlane=e.sent,t=this.fastlane,n=t.identity,r=t.profile,i=t.FastlanePaymentComponent,o=t.FastlaneCardComponent,a=t.FastlaneWatermarkComponent,this.identity=n,this.profile=r,this.components={FastlanePaymentComponent:i,FastlaneCardComponent:o,FastlaneWatermarkComponent:a},e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.info("Error creating fastlane instance. ",e.t0);case 15:case"end":return e.stop()}}),e,this,[[2,12]])}))),function(){return k.apply(this,arguments)})},{key:"mountFastlaneWatermark",value:(b=m(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasComponents()){e.next=14;break}if(e.prev=1,!a()("#billing_email_field").length){e.next=9;break}if(a()("#billing_email_field #wc-ppcp-watermark-container").length){e.next=9;break}return e.next=6,this.components.FastlaneWatermarkComponent({includeAdditionalInfo:!0});case 6:t=e.sent,a()("#billing_email_field").append('<div id="wc-ppcp-watermark-container"></div>'),t.render("#wc-ppcp-watermark-container");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.info("Error mounting watermark. Reason: ",e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(){return b.apply(this,arguments)})},{key:"authenticateOnPageLoad",value:(v=m(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fastlane&&"1"===this.settings.fastlane_pageload){e.next=2;break}return e.abrupt("return");case 2:if(!a()("#billing_email").length){e.next=7;break}if(t=a()("#billing_email").val(),!(0,u.isEmail)(t)){e.next=7;break}return e.next=7,this.triggerAuthentication(t,!1);case 7:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"onUpdatedCheckout",value:function(){var e=this;this.loadPayPalSDK().then(m(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currentCard&&(e.hideSignupLink(),e.displayTokenizedCard(e.mapFromTokenToCard(e.currentCard))),!e.isFastlaneIconEnabled()){t.next=4;break}return t.next=4,e.mountFastlaneWatermark();case 4:case"end":return t.stop()}}),t)}))))}},{key:"onPaymentTokenize",value:(f=m(y().mark((function e(t){var n,r,i,o,c,u,s,d,p,f,v,m;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.paymentComponent){e.next=27;break}return(n=a()(t.currentTarget)).prop("disabled",!0),e.prev=3,e.next=6,this.paymentComponent.getPaymentToken();case 6:if(u=e.sent,this.currentCard=u,this.prepareCardGatewayForCheckout(this.currentCard),this.onCloseModal(),this.displayTokenizedCard(this.mapFromTokenToCard(this.currentCard)),s={},null!=u&&null!==(r=u.paymentSource)&&void 0!==r&&null!==(i=r.card)&&void 0!==i&&i.name&&(v=(0,l.extractFullName)(u.paymentSource.card.name),s=h({firstName:v[0],lastName:v[1]},s),null!=u&&null!==(d=u.paymentSource)&&void 0!==d&&null!==(p=d.card)&&void 0!==p&&null!==(f=p.billingAddress)&&void 0!==f&&f.phoneNumber&&(s.phoneNumber=u.paymentSource.card.billingAddress.phoneNumber)),null==u||null===(o=u.paymentSource)||void 0===o||null===(c=o.card)||void 0===c||!c.billingAddress){e.next=17;break}return u.paymentSource.card.billingAddress.toPpSdkType?s=h(h({},s),u.paymentSource.card.billingAddress.toPpSdkType()):(m=u.paymentSource.card.billingAddress,s=h(h({},s),{addressLine1:m.streetAddress,addressLine2:m.extendedAddress,postalCode:m.postalCode,adminArea2:m.locality,adminArea1:m.region,countryCode:m.countryCodeAlpha2}),this.cart.needsShipping()&&this.populateShippingAddress(s)),e.next=17,this.updateBillingAddress(s);case 17:this.scrollToPlaceOrder(),a()('[name="wc-ppcp_card-payment-token"][value="new"]').trigger("click"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),(0,l.submitErrorMessage)(e.t0,a()("form.checkout"),"checkout");case 24:return e.prev=24,n.prop("disabled",!1),e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[3,21,24,27]])}))),function(e){return f.apply(this,arguments)})},{key:"onEmailChange",value:(p=m(y().mark((function e(t){var n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isEmailDetectionEnabled()||!this.fastlane){e.next=5;break}if(n=a()(t.currentTarget).val(),this.canceledEmails.includes(n)||!(0,u.isEmail)(n)){e.next=5;break}return e.next=5,this.triggerAuthentication(n,!1);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"onFastlaneClick",value:(d=m(y().mark((function e(t){var n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.$button=a()(t.currentTarget),n=a()("#billing_email").val(),e.prev=3,this.$button.addClass("processing").prop("disabled",!0),this.validateEmail(n),e.next=8,this.triggerAuthentication(n);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",(0,l.submitErrorMessage)(e.t0,a()("form.checkout"),"checkout"));case 13:return e.prev=13,this.$button&&this.$button.removeClass("processing").prop("disabled",!1),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[3,10,13,16]])}))),function(e){return d.apply(this,arguments)})},{key:"triggerAuthentication",value:(o=m(y().mark((function e(t){var n,r,i,o,c,u,s,d,p,f,v,m,g,b,k,w,_=arguments;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(_.length>1&&void 0!==_[1])||_[1],e.prev=1,this.authenticationState=null,e.next=5,this.identity.lookupCustomerByEmail(t);case 5:if(r=e.sent,!(i=r.customerContextId)){e.next=43;break}return this.customerContextId=i,e.next=11,this.identity.triggerAuthenticationFlow(i);case 11:if(o=e.sent,c=o.profileData,u=o.authenticationState,this.authenticationState=u,"canceled"!==u){e.next=20;break}this.canceledEmails.push(t),this.hideSignupLink(),e.next=41;break;case 20:if("succeeded"!==u){e.next=41;break}if(f=c.name,v=c.card,m=c.shippingAddress,this.currentCard=v,!this.cart.needsShipping()){e.next=33;break}return e.next=26,this.profile.showShippingAddressSelector();case 26:if(b=e.sent,k=b.selectedAddress){e.next=32;break}return this.canceledEmails.push(t),this.hideSignupLink(),e.abrupt("return");case 32:m=h(h(h({},k.name),k.address),(null==k||null===(g=k.phoneNumber)||void 0===g?void 0:g.nationalNumber)&&{phoneNumber:k.phoneNumber.nationalNumber});case 33:if(null!=v&&null!==(s=v.paymentSource)&&void 0!==s&&null!==(d=s.card)&&void 0!==d&&d.billingAddress&&(p=v.paymentSource.card.billingAddress,this.populateBillingAddress(h(h(h({},f),p),{},{phoneNumber:(null===(w=m)||void 0===w?void 0:w.phoneNumber)||null}))),!m||!this.cart.needsShipping()){e.next=37;break}return e.next=37,this.updateShippingAddress(m,p);case 37:this.hideSignupLink(),this.displayTokenizedCard(this.mapFromTokenToCard(v)),this.prepareCardGatewayForCheckout(v),this.scrollToPlaceOrder();case 41:e.next=49;break;case 43:if(!n){e.next=48;break}return e.next=46,this.openFastlaneModal();case 46:e.next=49;break;case 48:this.showSignupLink();case 49:e.next=54;break;case 51:e.prev=51,e.t0=e.catch(1),(0,l.submitErrorMessage)(e.t0,a()("form.checkout"),"checkout");case 54:case"end":return e.stop()}}),e,this,[[1,51]])}))),function(e){return o.apply(this,arguments)})},{key:"openFastlaneModal",value:(i=m(y().mark((function e(t){var n=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.customerContextId=null,e.next=3,this.components.FastlanePaymentComponent(h({},this.cart.needsShipping()&&{shippingAddress:this.getFastlaneShippingAddress()}));case 3:return this.paymentComponent=e.sent,this.$modal=a()(this.settings.html.modal),a()(document.body).prepend(this.$modal),a()(document.body).addClass("fastlane-modal-open"),this.$modal.find(".wc-ppcp-fastlane-modal-field").on("mousedown",(function(e){a()(e.currentTarget).addClass("focused")})),e.next=10,this.paymentComponent.render(".wc-ppcp-fastlane-modal-body");case 10:setTimeout((function(){n.$modal.addClass("active")}),10);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"onCloseModal",value:function(){var e=this;this.$modal&&(this.$modal.removeClass("active"),setTimeout((function(){e.$modal.remove(),e.$modal=null,a()(document.body).removeClass("fastlane-modal-open")}),400))}},{key:"getFastlaneShippingAddress",value:function(){return{firstName:(0,l.getFieldValue)("shipping_first_name"),lastName:(0,l.getFieldValue)("shipping_last_name"),streetAddress:(0,l.getFieldValue)("shipping_address_1"),extendedAddress:(0,l.getFieldValue)("shipping_address_2"),locality:(0,l.getFieldValue)("shipping_city"),region:(0,l.getFieldValue)("shipping_state"),postalCode:(0,l.getFieldValue)("shipping_postcode"),countryCodeAlpha2:(0,l.getFieldValue)("shipping_country"),phoneNumber:(0,l.getFieldValue)("billing_phone")||""}}},{key:"mapFromTokenToCard",value:function(e){var t=e.paymentSource.card;return{brand:t.brand,last4:t.lastDigits,expiry:t.expiry}}},{key:"displayTokenizedCard",value:function(e){var t=(0,l.formatPaymentMethod)(this.settings.payment_format,e);if(this.$card&&(this.$card.remove(),this.$card=null),this.$card=a()(this.settings.html.tokenized_card),this.customerContextId&&this.$card.addClass("has-customer-context"),this.$card.find(".wc-ppcp-tokenized-card-format").text(t),this.settings.icons[e.brand.toLowerCase()]){var n=this.settings.icons[e.brand.toLowerCase()];this.$card.find(".wc-ppcp-tokenized-card-icon-container img").attr("src",n)}a()(".wc-ppcp-card-payment-method__container").hide(),a()(".wc-ppcp-card-payment-method__container").after(this.$card)}},{key:"cancelTokenizedPayment",value:function(){if(this.currentCard=null,this.authenticationState=null,this.customerContextId||this.showSignupLink(),this.$card){this.$card.remove(),this.$card=null,a()(".wc-ppcp-card-payment-method__container").show();var e=(0,s.getPaymentMethod)("ppcp_card");e.setPaymentToken(null),e.setIsFastlane(!1)}}},{key:"changePaymentMethod",value:(r=m(y().mark((function e(){var t,n,r,i,o,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.profile.showCardSelector();case 3:if(t=e.sent,n=t.selectedCard,t.selectionChanged,!n){e.next=17;break}if(this.cancelTokenizedPayment(),this.currentCard=n,this.displayTokenizedCard(this.mapFromTokenToCard(n)),this.prepareCardGatewayForCheckout(n),null==n||null===(r=n.paymentSource)||void 0===r||null===(i=r.card)||void 0===i||!i.billingAddress){e.next=17;break}return o=n.paymentSource.card.billingAddress,c=(0,l.extractFullName)(n.paymentSource.card.name),o=h({firstName:c[0],lastName:c[1]},o),e.next=17,this.updateBillingAddress(o);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),(0,l.submitErrorMessage)(e.t0,a()("form.checkout"),"checkout");case 22:case"end":return e.stop()}}),e,this,[[0,19]])}))),function(){return r.apply(this,arguments)})},{key:"populateBillingAddress",value:function(e){var t={firstName:a()("#billing_first_name").val(),lastName:a()("#billing_last_name").val(),phoneNumber:a()("#billing_phone").val()};(0,l.setFieldValue)("billing_first_name",(null==e?void 0:e.firstName)||t.firstName),(0,l.setFieldValue)("billing_last_name",(null==e?void 0:e.lastName)||t.lastName),(0,l.setFieldValue)("billing_address_1",(null==e?void 0:e.addressLine1)||""),(0,l.setFieldValue)("billing_address_2",(null==e?void 0:e.addressLine2)||""),(0,l.setFieldValue)("billing_postcode",(null==e?void 0:e.postalCode)||""),(0,l.setFieldValue)("billing_city",(null==e?void 0:e.adminArea2)||""),(0,l.setFieldValue)("billing_state",(null==e?void 0:e.adminArea1)||""),(0,l.setFieldValue)("billing_country",(null==e?void 0:e.countryCode)||""),(0,l.setFieldValue)("billing_phone",(null==e?void 0:e.phoneNumber)||t.phoneNumber)}},{key:"populateShippingAddress",value:function(e){(0,l.setFieldValue)("shipping_first_name",(null==e?void 0:e.firstName)||""),(0,l.setFieldValue)("shipping_last_name",(null==e?void 0:e.lastName)||""),(0,l.setFieldValue)("shipping_address_1",(null==e?void 0:e.addressLine1)||""),(0,l.setFieldValue)("shipping_address_2",(null==e?void 0:e.addressLine2)||""),(0,l.setFieldValue)("shipping_postcode",(null==e?void 0:e.postalCode)||""),(0,l.setFieldValue)("shipping_city",(null==e?void 0:e.adminArea2)||""),(0,l.setFieldValue)("shipping_state",(null==e?void 0:e.adminArea1)||""),(0,l.setFieldValue)("shipping_country",(null==e?void 0:e.countryCode)||""),(0,l.setFieldValue)("shipping_phone",(null==e?void 0:e.phoneNumber)||"")}},{key:"updateBillingAddress",value:function(e){var t=this;return new Promise((function(n){t.populateBillingAddress(e),a()(document.body).one("updated_checkout",(function(){n(!0)})),a()(document.body).trigger("update_checkout")}))}},{key:"updateShippingAddress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(r){t.populateShippingAddress(e),n&&!(0,c.isEqual)(n,e)&&(a()('[name="ship_to_different_address"]').is(":checked")||a()('[name="ship_to_different_address"]').trigger("click")),a()(document.body).one("updated_checkout",(function(){r(!0)})),a()(document.body).trigger("update_checkout")}))}},{key:"prepareCardGatewayForCheckout",value:function(e){var t=(0,s.getPaymentMethod)("ppcp_card");t.setPaymentToken(e.id),t.setIsFastlane(!0),(0,l.setFieldValue)("ppcp_card_payment_token",e.id,null),a()('input[name="payment_method"][value="ppcp_card"]').trigger("click")}},{key:"validateEmail",value:function(e){if(!e)throw new Error(this.settings.i18n.email_empty);if(!(0,u.isEmail)(e))throw new Error(this.settings.i18n.email_invalid)}},{key:"scrollToPlaceOrder",value:function(){var e=a()("#place_order");e.length&&a()("html, body").animate({scrollTop:e.offset().top-200},1e3)}},{key:"hideSignupLink",value:function(){a()(".fastlane-signup-link-container").hide()}},{key:"showSignupLink",value:function(){a()(".fastlane-signup-link-container").show()}}],n&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({cart:i(),settings:wc_ppcp_fastlane_params}).initialize()},166:(e,t,n)=>{n.r(t);var r=n(951),i=n(455),o=n.n(i);new r.tC(o(),{id:"ppcp",context:"cart"})},234:(e,t,n)=>{n.r(t);var r=n(455),i=n.n(r),o=n(907),a=n(951);if((0,o.isPluginConnected)()){var c=new a.Oq(i(),{id:"ppcp",context:"checkout"});setInterval((function(){c.createButton()}),2e3)}},476:(e,t,n)=>{n.r(t);var r=n(951),i=n(567),o=n.n(i),a=n(455),c=n.n(a);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=p(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(u,e);var t,n,i,a,c=(i=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(i);if(a){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function u(){return s(this,u),c.apply(this,arguments)}return t=u,n=[{key:"updatedCheckout",value:function(){r.ZC.prototype.initialize.apply(this,arguments)}},{key:"paymentMethodSelected",value:function(){}},{key:"onPaymentTokenClick",value:function(e){}},{key:"hidePaymentButton",value:function(){this.displayPlaceOrderButton(),this.displayPaymentReadyMessage();var e=d(y(u.prototype),"getButtonContainer",this).call(this);e&&o()(e).hide()}},{key:"getButtonContainer",value:function(){var e;if(null!==(e=this.settings)&&void 0!==e&&e.expressElement){var t=document.querySelector(this.settings.expressElement);if(t)return t}return document.getElementById("wc-ppcp-express-button")}},{key:"onInit",value:function(e,t,n){this.cart.trigger("expressCheckoutButtonOnInit")}},{key:"onClick",value:function(e,t){o()('[name="terms"]').prop("checked",!0).trigger("change"),o()('[name="payment_method"][value="'.concat(this.id,'"]')).prop("checked",!0).trigger("click"),o()('[name="wc-'.concat(this.id,'-payment-token"][value="new"]')).trigger("click")}},{key:"getFunding",value:function(){var e=[];return this.isFundingActive("paypal")&&this.isSectionEnabled("paypal","express_checkout")&&e.push(paypal.FUNDING.PAYPAL),this.isFundingActive("paylater")&&this.isSectionEnabled("paylater","express_checkout")&&e.push(paypal.FUNDING.PAYLATER),this.isFundingActive("venmo")&&this.isSectionEnabled("venmo","express_checkout")&&e.push(paypal.FUNDING.VENMO),this.isFundingActive("card")&&this.isSectionEnabled("credit_card","express_checkout")&&e.push(paypal.FUNDING.CARD),e}},{key:"createButton",value:function(){var e;d(y(u.prototype),"createButton",this).call(this),null===(e=this.$button)||void 0===e||e.show(),this.addExpressClasses()}},{key:"addExpressClasses",value:function(){if(this.$button){var e=Object.keys(this.buttons).length;this.$button.addClass("button-count_".concat(e))}}},{key:"getPaymentType",value:function(){return"express"}},{key:"isCheckoutReviewRequired",value:function(e){return!0}}],n&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.Oq))(c(),{id:"ppcp",context:"checkout"})},417:(e,t,n)=>{n.r(t);var r=n(951),i=n(455),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(n);if(r){var i=l(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return s(this,e)});function o(){return c(this,o),i.apply(this,arguments)}return t=o,Object.defineProperty(t,"prototype",{writable:!1}),t}(r.K3))(o(),{id:"ppcp",context:"cart"})},17:(e,t,n)=>{n.r(t);var r=n(951),i=n(719),o=n.n(i),a=n(455),c=n.n(a);new r.o4(new(o()),c(),{id:"ppcp",context:"product"})}}]);
//# sourceMappingURL=frontend-commons.js.map