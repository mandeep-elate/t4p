/*! For license information please see blocks-commons.js.LICENSE.txt */
(self.webpackChunkwcPPCP=self.webpackChunkwcPPCP||[]).push([[107],{270:(t,e,r)=>{"use strict";r.r(e);var n=r(554);const o=JSON.parse('{"apiVersion":2,"name":"wc-ppcp/checkout-block","version":"2.0.0","title":"PayPal checkout block","category":"woocommerce","description":"Adds an invisible block to the checkout page.","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-fields-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"pymntpl-paypal-woocommerce"}');var a=r(307),i=r(818),c=r(801),u=r(617);(0,n.registerCheckoutBlock)({metadata:o,component:function(t){t.checkoutExtensionData,t.extensions;var e=(0,i.dispatch)("core/notices").createErrorNotice,r=(0,i.dispatch)(c.PAYMENT_STORE_KEY).__internalSetActivePaymentMethod,n=(0,u.getSetting)("ppcp_data");return(0,a.useEffect)((function(){r&&n.errorMessage&&(e(n.errorMessage,{context:"wc/checkout"}),r("ppcp"))}),[]),null}})},311:(t,e,r)=>{"use strict";r.r(e);var n=r(554);const o=JSON.parse('{"apiVersion":2,"name":"wc-ppcp/fastlane-block","version":"2.0.0","title":"PayPal Fastlane block","category":"woocommerce","description":"Adds an invisible Fastlane block to the checkout page.","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-fields-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"pymntpl-paypal-woocommerce"}');var a=r(307),i=r(818),c=r(801),u=r(617),l=r(483),s=r(16),f=r(762);function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}(0,n.registerCheckoutBlock)({metadata:o,component:function(t){t.checkoutExtensionData;var e,r,n=t.extensions,o=(0,a.useRef)(!0),y=(0,a.useRef)({}),v=(0,u.getSetting)("paypalQueryParams"),m=n.wc_ppcp.fastlane,g=(0,i.useSelect)((function(t){var e=t(c.CART_STORE_KEY);return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({needsShipping:e.getNeedsShipping()},e.getCustomerData())})),b=g.needsShipping,w=g.billingAddress,E=(0,i.useDispatch)(c.CART_STORE_KEY).setShippingAddress,O=w.email,S=(e=(0,a.useState)(O),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=S[0],x=S[1],j=(0,s.VD)(v),P=(0,f.H)({paypal:j}),k=(0,a.useCallback)((function(){}),[]),L=(0,a.useMemo)((function(){return{needsShipping:b,setShippingAddress:E}}),[b,E]),C=(0,f.D)({i18n:m.i18n,email:O,onError:k,fastlane:P,shippingData:L,openFastlaneModal:function(){return null}}),A=C.emails,R=C.isCustomerFound,N=C.triggerAuthentication;return(0,a.useEffect)((function(){y.current={fastlane:P,emails:A,isCustomerFound:R}}),[A,P,R]),(0,a.useEffect)((function(){var t=setTimeout((function(){x(O)}),500);return function(){return clearTimeout(t)}}),[O]),(0,a.useEffect)((function(){var t=y.current,e=t.emails,r=t.isCustomerFound;if(!e.includes(_)&&!r&&P&&N&&(0,l.isEmail)(_))return o.current?(o.current=!1,void(m.fastlane_pageload&&N(_,!1))):void(m.emailDetectionEnabled&&N(_,!1))}),[P,_,N]),(0,a.useEffect)((function(){var t=y.current.fastlane;if(t&&m.iconEnabled){var e=document.getElementById("email");if(e){var r=document.getElementById("wc-ppcp-watermark-container");if(r)return;(r=document.createElement("div")).id="wc-ppcp-watermark-container",t.FastlaneWatermarkComponent({includeAdditionalInfo:!0}).then((function(t){e.parentElement.append(r),t.render("#wc-ppcp-watermark-container")}))}}})),null}})},128:(t,e,r)=>{"use strict";function n(){return React.createElement("svg",{className:"card-cvc-icon",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"var(--colorIconCardCvc)",role:"img"},React.createElement("path",{opacity:".2",fillRule:"evenodd",clipRule:"evenodd",d:"M15.337 4A5.493 5.493 0 0013 8.5c0 1.33.472 2.55 1.257 3.5H4a1 1 0 00-1 1v1a1 1 0 001 1h16a1 1 0 001-1v-.6a5.526 5.526 0 002-1.737V18a2 2 0 01-2 2H3a2 2 0 01-2-2V6a2 2 0 012-2h12.337zm6.707.293c.239.202.46.424.662.663a2.01 2.01 0 00-.662-.663z"}),React.createElement("path",{opacity:".4",fillRule:"evenodd",clipRule:"evenodd",d:"M13.6 6a5.477 5.477 0 00-.578 3H1V6h12.6z"}),React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 14a5.5 5.5 0 110-11 5.5 5.5 0 010 11zm-2.184-7.779h-.621l-1.516.77v.786l1.202-.628v3.63h.943V6.22h-.008zm1.807.629c.448 0 .762.251.762.613 0 .393-.37.668-.904.668h-.235v.668h.283c.565 0 .95.282.95.691 0 .393-.377.66-.911.66-.393 0-.786-.126-1.194-.37v.786c.44.189.88.291 1.312.291 1.029 0 1.736-.526 1.736-1.288 0-.535-.33-.967-.88-1.14.472-.157.778-.573.778-1.045 0-.738-.652-1.241-1.595-1.241a3.143 3.143 0 00-1.234.267v.77c.378-.212.763-.33 1.132-.33zm3.394 1.713c.574 0 .974.338.974.778 0 .463-.4.785-.974.785-.346 0-.707-.11-1.076-.337v.809c.385.173.778.26 1.163.26.204 0 .392-.032.573-.08a4.313 4.313 0 00.644-2.262l-.015-.33a1.807 1.807 0 00-.967-.252 3 3 0 00-.448.032V6.944h1.132a4.423 4.423 0 00-.362-.723h-1.587v2.475a3.9 3.9 0 01.943-.133z"}))}r.d(e,{Z:()=>n})},59:(t,e,r)=>{"use strict";r.d(e,{I:()=>n});var n=function(t){var e,r,n,o=t.label,a=t.icon,i=t.description,c=t.onCancel;return React.createElement("div",{className:"wc-ppcp-components-payment-card__container"},React.createElement("div",{className:"wc-ppcp-components-payment-card__card"},React.createElement("img",{className:"wc-ppcp-components-payment-card__icon",alt:a.alt,src:a.src}),React.createElement("div",{className:"wc-ppcp-components-payment-card__description"},React.createElement("span",null,i))),React.createElement("div",{className:"wc-ppcp-components-payment-card-cancel__container"},React.createElement("span",(n=c,(r="onClick")in(e={className:"wc-ppcp-components-payment-card-cancel__label",onClick:c})?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e),o)))}},521:(t,e,r)=>{"use strict";function n(t){var e=t.description;return e?React.createElement("p",{className:"wc-ppcp-payment-method__description"},e):null}r.d(e,{Z:()=>n})},263:(t,e,r)=>{"use strict";r.d(e,{w:()=>n});var n=function(t){var e=t.components,r=t.title,n=t.icons,o=t.id;Array.isArray(n)||(n=[n]);var a=e.PaymentMethodLabel,i=e.PaymentMethodIcons;return React.createElement("div",{className:"wc-ppcp-blocks-payment-method__label ".concat(o)},React.createElement(a,{text:r}),React.createElement(i,{icons:n}))}},430:(t,e,r)=>{"use strict";r.d(e,{B:()=>n});var n=function(t){var e=t.onClick,r=t.text,n=t.logo;return React.createElement("div",{className:"fastlane-signup-link-container",onClick:e},React.createElement("span",null,r),React.createElement("img",{className:"fastlane-signup-img",src:n}))}},21:(t,e,r)=>{"use strict";if(r.d(e,{Ac:()=>a.Z,BC:()=>i.B,qJ:()=>g,IH:()=>n.I,p8:()=>b.Z,wJ:()=>o.w}),862==r.j)var n=r(59);if(4!=r.j)var o=r(263);if(70==r.j)var a=r(128);if(70==r.j)var i=r(430);var c=r(307),u=r(967),l=r.n(u);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(){h=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function p(){}function d(){}function y(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,o)&&(v=g);var b=y.prototype=p.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var f=u.arg,p=f.value;return p&&"object"==s(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){f.value=t,i(f)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function O(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,c(b,"constructor",y),c(y,"constructor",d),d.displayName=c(y,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(b),c(b,i,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function y(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){y(a,n,o,i,c,"next",t)}function c(t){y(a,n,o,i,c,"throw",t)}i(void 0)}))}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g=function(t){var e,r,n=t.i18n,o=t.open,a=t.onClose,i=t.fastlane,u=t.onTokenize,s=t.shippingData,f=(e=(0,c.useState)(!1),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=f[0],y=f[1],g=(0,c.useRef)({fastlane:i,shippingData:s}),b=(0,c.useCallback)(function(){var t=v(h().mark((function t(e){var r,n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,r=g.current.paymentComponent,t.next=5,r.getPaymentToken();case 5:n=t.sent,u(n),a(!0),y(!1),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log("Error tokenizing payment method. ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),[]);return(0,c.useEffect)((function(){g.current=p(p({},g.current),{},{fastlane:i,shippingData:s})}),[i,s]),(0,c.useEffect)((function(){if(o){var t=g.current,e=t.fastlane,r=t.shippingData,n=r.needsShipping,a=r.shippingAddress,i=p({},n&&{shippingAddress:{firstName:a.first_name||"",lastName:a.last_name||"",streetAddress:a.address_1||"",extendedAddress:a.address_2||"",locality:a.city||"",region:a.state||"",postalCode:a.postcode||"",countryCodeAlpha2:a.country||"",phoneNumber:a.phone||""}});e.FastlanePaymentComponent(i).then(function(){var t=v(h().mark((function t(e){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.current.paymentComponent=e,t.next=3,e.render(".wc-ppcp-fastlane-modal-body");case 3:document.body.classList.add("fastlane-modal-open"),setTimeout((function(){y(!0)}),250);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}else document.body.classList.remove("fastlane-modal-open");return function(){return document.body.classList.remove("fastlane-modal-open")}}),[o]),React.createElement("div",{className:l()("wc-ppcp-fastlane-overlay",{active:d})},React.createElement("div",{className:"wc-ppcp-fastlane-modal"},React.createElement("div",{className:"wc-ppcp-fastlane-modal-body"}),React.createElement("div",{className:"wc-ppcp-fastlane-modal-buttons"},React.createElement("button",{className:"wc-ppcp-fastlane-tokenize",onClick:b},n.continue),React.createElement("a",{className:"wc-ppcp-fastlane-cancel",onClick:function(){y(!1),a()}},n.cancel))))};if(4!=r.j)var b=r(521)},229:(t,e,r)=>{"use strict";r.d(e,{a:()=>n});var n={SET_FASTLANE:"SET_FASTLANE",SET_PAYMENT_TOKEN:"SET_PAYMENT_TOKEN",SET_CUSTOMER_CONTEXT:"SET_CUSTOMER_CONTEXT",ADD_CANCELED_EMAIL:"ADD_CANCELED_EMAIL"}},369:(t,e,r)=>{"use strict";r.r(e),r.d(e,{addCanceledEmail:()=>c,setCustomerContextId:()=>i,setFastlane:()=>a,setPaymentToken:()=>o});var n=r(229),o=function(t){return{type:n.a.SET_PAYMENT_TOKEN,token:t}},a=function(t){return{type:n.a.SET_FASTLANE,fastlane:t}},i=function(t){return{type:n.a.SET_CUSTOMER_CONTEXT,id:t}},c=function(t){return{type:n.a.ADD_CANCELED_EMAIL,email:t}}},782:(t,e,r)=>{"use strict";r.r(e),r.d(e,{STORE_KEY:()=>a,store:()=>b});var n={};r.r(n),r.d(n,{getCanceledEmails:()=>m,getFastlane:()=>y,getPaymentToken:()=>h,isCustomerFound:()=>v});var o=r(818),a=(r(418),"wc-ppcp/store/checkout"),i=r(369),c=r(229);function u(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={token:null,fastlane:null,canceledEmails:[],customerContextId:null},h=function(t){return t.token},y=function(t){return t.fastlane},v=function(t){return!!t.customerContextId},m=function(t){return t.canceledEmails},g={reducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0,r=t;switch(e.type){case c.a.SET_FASTLANE:r=f(f({},t),{},{fastlane:e.fastlane});break;case c.a.SET_PAYMENT_TOKEN:r=f(f({},t),{},{token:e.token});break;case c.a.SET_CUSTOMER_CONTEXT:r=f(f({},t),{},{customerContextId:e.id});break;case c.a.ADD_CANCELED_EMAIL:r=f(f({},t),{},{canceledEmails:[].concat(u(t.canceledEmails),[e.email])})}return r},selectors:n,actions:i},b=(0,o.createReduxStore)(a,g);(0,o.register)(b)},16:(t,e,r)=>{"use strict";r.d(e,{It:()=>O,nz:()=>s,VD:()=>i,sC:()=>c});var n=r(307),o=r(907);function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=function(t){var e,r,i=(e=(0,n.useState)(null),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],u=i[1];return(0,n.useEffect)((function(){c||(0,o.loadPayPalSdk)(t).then((function(t){return u(t)}))}),[c]),c},c=function(t){var e=t.event,r=t.responseTypes,o=t.messageContext,a=void 0===o?null:o,i=t.setPaymentData;(0,n.useEffect)((function(){var t=e((function(t){var e,n;if(null!=t&&null!==(e=t.processingResponse)&&void 0!==e&&null!==(n=e.paymentDetails)&&void 0!==n&&n.ppcpErrorMessage){i(null);var o=t.processingResponse.paymentDetails.ppcpErrorMessage;return{type:r.ERROR,retry:!0,message:o,messageContext:a}}return null}));return function(){t()}}),[e])};function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=function(t){var e=t.width,r=t.node,o=t.className,a=void 0===o?"wc-ppcp-sm__container":o,i=u((0,n.useState)(window.innerWidth),2),c=i[0],l=i[1],s=u((0,n.useState)(r),2),f=s[0],p=s[1];(0,n.useEffect)((function(){var t;r&&p(null==r||null===(t=r.parentElement)||void 0===t?void 0:t.parentElement),p(r)}),[r]),(0,n.useEffect)((function(){var t=function(){return l(window.innerWidth)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),(0,n.useEffect)((function(){f&&(f.clientWidth<=e?f.classList.add(a):f.classList.remove(a))}),[c,e,f])},f=r(989),p=r.n(f),d=r(622);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(){v=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function p(){}function d(){}var y={};c(y,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,o)&&(y=g);var b=d.prototype=f.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==h(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function O(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,c(b,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(b),c(b,i,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function E(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){w(a,n,o,i,c,"next",t)}function c(t){w(a,n,o,i,c,"throw",t)}i(void 0)}))}}var O=function(t){var e=t.isExpress,r=void 0!==e&&e,a=t.paymentMethod,i=(0,n.useCallback)(function(){var t=E(v().mark((function t(e){var n,o,i,c,u,l,s,f,h;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.billing,o=e.shipping,i=e.shouldSavePayment,c=void 0!==i&&i,u=o.needsShipping,l=o.shippingAddress,s=n.billingAddress,t.prev=3,t.next=6,p()({method:"POST",url:(0,d.q$)("wc-ppcp/v1/cart/order"),data:g(g((f={payment_method:a},b(f,"".concat(a,"_save_payment"),c),b(f,"address_provided",!r&&u),b(f,"checkout_blocks",!0),b(f,"context",r?"express":"checkout"),f),u?{shipping_first_name:l.first_name,shipping_last_name:l.last_name,shipping_address_1:l.address_1,shipping_address_2:l.address_2,shipping_postcode:l.postcode,shipping_city:l.city,shipping_state:l.state,shipping_country:l.country}:null),{billing_first_name:s.first_name,billing_last_name:s.last_name,billing_address_1:s.address_1,billing_address_2:s.address_2,billing_postcode:s.postcode,billing_city:s.city,billing_state:s.state,billing_country:s.country,billing_email:s.email,billing_phone:s.phone,billing_company:s.company})});case 6:return h=t.sent,t.abrupt("return",h);case 10:throw t.prev=10,t.t0=t.catch(3),t.t0;case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),[r,a]),c=(0,n.useCallback)(E(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p()({method:"POST",url:(0,d.q$)("/wc-ppcp/v1/vault/setup-tokens"),data:{context:"checkout",payment_method:a}}).then((function(t){return t.id})).catch((function(t){throw console.info("Error creating setup token. ",t),t})));case 1:case"end":return t.stop()}}),t)}))),[a]),u=(0,n.useCallback)((function(t,e,r){var n,i=r.shipping.setSelectedRates,c=(0,o.convertPayPalAddressToCart)((null==t?void 0:t.shipping_address)||{},!0),u=(null==t||null===(n=t.selected_shipping_option)||void 0===n?void 0:n.id)||"";return p()({method:"POST",url:(0,d.q$)("wc-ppcp/v1/cart/shipping"),data:{order_id:t.orderID,address:c,shipping_method:(0,o.extractShippingMethod)(u),payment_method:a}}).then((function(t){return t.code?e.reject():e.resolve()})).catch((function(t){return e.reject()})).finally((function(){var t;u&&i.apply(void 0,function(t){if(Array.isArray(t))return y(t)}(t=(0,d.K6)(u))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))}),[a]),l=(0,n.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p()({method:"POST",path:"/wc-ppcp/v1/vault/payment-tokens",data:g({setup_token:t},e)})}),[]);return{createOrder:i,onShippingChange:u,createPaymentToken:l,createVaultSetupToken:c}}},719:(t,e,r)=>{"use strict";r.r(e);var n=r(307),o=r(554),a=r(817),i=r(617),c=r(16);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=(0,i.getSetting)("paylaterParams"),f=function(t){var e=t.cart,r=(t.extensions,t.context,s.enabled),a=(0,n.useRef)(null),f=e.cartTotals,p=f.currency_code,d=f.total_price,h=(0,c.VD)((0,i.getSetting)("paypalQueryParams")),y=(0,n.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({amount:d/Math.pow(10,f.currency_minor_unit),currency:p,placement:"payment"},s.options)}));return(0,n.useEffect)((function(){h&&r&&h.Messages(y).render(a.current)}),[h,y,r]),r?React.createElement(o.TotalsWrapper,null,React.createElement("div",{className:"wc-block-components-totals-item"},React.createElement("div",{ref:a,className:"wc-ppcp-paylater-msg__container"}))):null};(0,a.registerPlugin)("wc-ppcp",{render:function(){return React.createElement(o.ExperimentalOrderMeta,null,React.createElement(f,null))},scope:"woocommerce-checkout"})},692:(t,e,r)=>{"use strict";r.r(e);var n=r(307),o=r(818),a=r(613),i=r(617),c=r(546),u=r(554),l=r(622),s=r(16),f=r(21);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var m=(0,n.createContext)(null),g=function(t){var e=t.data,r=t.children,o=y((0,n.useState)({}),2),a=o[0],i=o[1],c=y((0,n.useState)({}),2),u=c[0],l=c[1],s=y((0,n.useState)(!0),2),f=s[0],p=s[1],v=(0,n.useRef)({paymentMethodData:u}),g=y((0,n.useState)({cvv:{isValid:!1,isEmpty:!0,isRequired:!0},expiry:{isValid:!1,isEmpty:!0,isRequired:!0},number:{isValid:!1,isEmpty:!0,isRequired:!0},name:{isValid:!1,isEmpty:!0,isRequired:!!e.cardNameRequired}}),2),w=g[0],E=g[1],O=y((0,n.useState)(null),2),S=O[0],_=O[1],x=y((0,n.useState)({}),2),j=x[0],P=x[1],k=(0,n.useRef)({}),L=(0,n.useCallback)((function(t){l((function(e){return d(d({},e),t)})),v.current.paymentMethodData=d(d({},v.current.paymentMethodData),t)}),[]),C=(0,n.useCallback)((function(){return v.current.paymentMethodData}),[]),A=(0,n.useCallback)((function(t){return function(e){e&&(k.current=d(d({},k.current),{},h({},t,e)))}}),[]),R=(0,n.useCallback)((function(t){i((function(e){return d(d({},e),{},h({},t,b(t)))}))}),[]),N=(0,n.useCallback)((function(t){i((function(e){return delete e[t],d({},e)}))}),[]),T=(0,n.useCallback)((function(t,e){E((function(r){return d(d({},r),{},h({},t,d(d({},r[t]),e)))}))}),[]),I=D({setValidatedField:T,onError:R,onRemoveError:N,cardFields:j,cardFieldRefs:k.current}).events,F={i18n:e.i18n,events:I,errors:a,onFieldError:R,cardFields:j,cardFieldRef:A,cardFieldRefs:k,cardElement:S,setCardFields:P,setCardElement:_,validatedFields:w,isEligible:f,setIsEligible:p,paymentMethodData:u,addPaymentMethodData:L,getPaymentMethodData:C};return React.createElement(m.Provider,{value:F},r)},b=function(t){var e;switch(t){case"name":e="INVALID_NAME";break;case"number":e="INVALID_NUMBER";break;case"expiry":e="INVALID_EXPIRY";break;case"cvv":e="INVALID_CVV"}return e},w=function(){return(0,n.useContext)(m)};function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function x(){x=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new S(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&r.call(v,o)&&(h=v);var m=d.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==_(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,c(m,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(m),c(m,i,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function C(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){L(a,n,o,i,c,"next",t)}function c(t){L(a,n,o,i,c,"throw",t)}i(void 0)}))}}var A=["data","paypal"];var R=function(t){var e,r=t.data,o=t.paypal,a=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,A),i=a.billing,c=a.cartData,u=a.shippingData,l=a.emitResponse,f=a.eventRegistration,p=a.shouldSavePayment,d=c.extensions,h=(null==d||null===(e=d.wc_ppcp)||void 0===e?void 0:e.needsSetupToken)||!1,y=f.onPaymentSetup,v=(f.onCheckoutValidation,function(t){var e=t.data,r=t.billing,o=t.shippingData,a=t.needsSetupToken,i=t.shouldSavePayment,c=(0,n.useRef)({billing:r,shipping:o,shouldSavePayment:i});(0,n.useEffect)((function(){c.current={billing:r,shipping:o,shouldSavePayment:i}}),[r,o,i]);var u=(0,s.It)({paymentMethod:"ppcp_card"}),l=u.createOrder,f=u.createPaymentToken,p=u.createVaultSetupToken,d=w(),h=d.events,y=d.addPaymentMethodData,v=(0,n.useMemo)((function(){var t=O(O({fundingSource:"card",style:e.styles,inputEvents:h,onApprove:function(t){if(t.vaultSetupToken)return f(t.vaultSetupToken).then((function(e){y({orderId:t.orderID||"",paymentTokenId:e.id})}));y({orderId:t.orderID||"",paymentTokenId:""})},createOrder:function(){return l(c.current)}},a&&{createOrder:null,createVaultSetupToken:function(){return p.apply(void 0,arguments)}}),{},{onError:function(t){}});return t}),[h,a,y]);return{options:v}}({data:r,billing:i,shippingData:u,needsSetupToken:h,shouldSavePayment:p}));!function(t){var e=t.data,r=t.paypal,o=t.options,a=w(),i=a.cardFields,c=a.cardFieldRefs,u=a.setCardElement,l=a.setCardFields,s=a.setIsEligible;(0,n.useEffect)((function(){if(r&&o){var t=r.CardFields(o);if(t.isEligible()){var n=t.NameField(e.fields.name),a=t.NumberField(e.fields.number),i=t.ExpiryField(e.fields.expiry),c=t.CVVField(e.fields.cvv);u(t),l({name:n,number:a,expiry:i,cvv:c})}else s(!1)}}),[r,o]),(0,n.useEffect)((function(){Object.keys(i).map((function(t){var e=i[t];c.current[t]&&e.render(c.current[t])}))}),[i,c])}({data:r,paypal:o,options:v.options}),function(t){var e=t.billing,r=t.emitResponse,o=t.onPaymentSetup,a=t.needsSetupToken,i=(0,n.useRef)({}),c=w(),u=c.i18n,l=c.onFieldError,s=c.cardElement,f=c.cardFields,p=c.validatedFields,d=c.paymentMethodData,h=c.getPaymentMethodData;(0,n.useEffect)((function(){i.current={billing:e,cardFields:f,cardElement:s,emitResponse:r,validatedFields:p,paymentMethodData:d}}),[e,s,f,r,p,d]);var y=(0,n.useCallback)((function(){var t=i.current,e=t.cardFields,r=t.validatedFields;if(!Object.keys(r).length)throw Object.keys(e).forEach((function(t){r[t].isRequired&&(l(t),e[t].addClass("invalid"))})),new Error(u.incomplete_form);var n=!0;if(Object.keys(r).forEach((function(t){var o=r[t],a=o.isValid,i=o.isEmpty;!o.isRequired||a&&!i||(l(t),e[t].addClass("invalid"),n=!1)})),!n)throw new Error(u.incomplete_form)}),[]);(0,n.useEffect)((function(){var t=o(C(x().mark((function t(){var e,r,n,o,c,l,s,f,p,d,v;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.current,r=e.billing,n=e.cardElement,o=e.emitResponse,c=r.billingAddress,t.prev=2,t.next=5,y();case 5:return t.next=7,n.submit(P({},!a&&{billingAddress:{addressLine1:c.address_1||"",addressLine2:c.address_2||"",adminArea1:c.state||"",adminArea2:c.city||"",postalCode:c.postcode||"",countryCode:c.country||""}}));case 7:return l=h(),s=l.orderId,f=void 0===s?"":s,p=l.paymentTokenId,d=void 0===p?"":p,t.abrupt("return",{type:o.responseTypes.SUCCESS,meta:{paymentMethodData:{ppcp_card_payment_token:d,ppcp_card_paypal_order_id:f}}});case 11:return t.prev=11,t.t0=t.catch(2),v=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||"",null!==t.t0&&void 0!==t.t0&&t.t0.message&&["INVALID_NUMBER","INVALID_EXPIRY","INVALID_CVV"].includes(t.t0.message)&&(v=u.incomplete_form),t.abrupt("return",{type:o.responseTypes.ERROR,message:v,messageContext:o.noticeContexts.PAYMENTS});case 16:case"end":return t.stop()}}),t,null,[[2,11]])}))));return t}),[u,o,a,h,y])}({billing:i,emitResponse:l,onPaymentSetup:y,needsSetupToken:h})};function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var D=function(t){var e=t.onError,r=t.onRemoveError,o=t.setValidatedField,a=t.cardFields,i=t.cardFieldRefs,c=(0,n.useRef)({cardFields:a,cardFieldRefs:i});(0,n.useEffect)((function(){c.current={cardFields:a,cardFieldRefs:i}}),[a,i]);var u=(0,n.useCallback)((function(t){var n=c.current,a=n.cardFields,i=n.cardFieldRefs,u=t.fields,l=t.emittedBy;o(l,I(l,u)),a[l].removeClass("focused"),i[l].classList.remove("card-field--focused");var s=I(l,u),f=s.isValid;s.isEmpty?(i[l].classList.remove("card-field--invalid"),a[l].removeClass("invalid"),r(l)):f||(i[l].classList.remove("card-field--valid"),i[l].classList.add("card-field--invalid"),e(l))}),[e,r]),l=(0,n.useCallback)((function(t){var e=t.fields,r=t.emittedBy,n=c.current,a=n.cardFields,i=n.cardFieldRefs;o(r,I(r,e)),Object.keys(a).forEach((function(t){a[t].removeClass("focused")})),Object.keys(i).forEach((function(t){i[t].classList.remove("card-field--focused")})),i[r].classList.add("card-field--focused"),a[r].addClass("focused")}),[e,r]),s=(0,n.useCallback)((function(t){var e=t.fields,n=t.emittedBy,a=c.current.cardFieldRefs,i=I(n,e),u=(i.isEmpty,i.isValid),l=void 0!==u&&u;o(n,I(n,e)),r(n),l?a[n].classList.add("card-field--valid"):a[n].classList.remove("card-field--valid")}),[e,r]);return{events:(0,n.useMemo)((function(){return{onBlur:u,onFocus:l,onChange:s}}),[u,l,s])}},I=function(t,e){return e[Object.keys(e).find((function(e){return e.toLowerCase().indexOf(t)>-1}))]};function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function M(){M=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new S(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(_([])));v&&v!==e&&r.call(v,o)&&(h=v);var m=d.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==F(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=d,c(m,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(m),c(m,i,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function G(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Y(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){G(a,n,o,i,c,"next",t)}function c(t){G(a,n,o,i,c,"throw",t)}i(void 0)}))}}var V=r(801),U=r(907);function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function B(){B=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new S(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(_([])));v&&v!==e&&r.call(v,o)&&(h=v);var m=d.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==z(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=d,c(m,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(m),c(m,i,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function K(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function $(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){K(a,n,o,i,c,"next",t)}function c(t){K(a,n,o,i,c,"throw",t)}i(void 0)}))}}r(369);var H=r(967),q=r.n(H),J=["data","token","fastlane","customerFound"];function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(r),!0).forEach((function(e){W(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function W(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q(t){var e,r=t.data,a=t.token,i=t.fastlane,u=t.customerFound,l=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,J),f=r.i18n,p=r.icons,d=r.payment_format,h=l.cartData,y=l.emitResponse,v=l.eventRegistration,m=l.shouldSavePayment,g=v.onPaymentSetup,b=h.extensions,w=(null==b||null===(e=b.wc_ppcp)||void 0===e?void 0:e.needsSetupToken)||!1,E=a.paymentSource.card;E=X(X({},E),{},{brand:E.brand,last4:E.lastDigits,expiry:E.expiry}),function(t){var e=t.token,r=t.emitResponse,o=t.onPaymentSetup,a=t.needsSetupToken,i=t.shouldSavePayment,c=(0,n.useRef)({token:e}),u=(0,s.It)({paymentMethod:"ppcp_card"}).createPaymentToken;(0,n.useEffect)((function(){c.current={token:e,emitResponse:r,shouldSavePayment:i}}),[e,r,i]),(0,n.useEffect)((function(){var t=o(Y(M().mark((function t(){var e,r,n,o;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=c.current,r=e.token,n=e.emitResponse,o=e.shouldSavePayment,t.prev=1,!a){t.next=6;break}return t.next=5,u(r.id,{fastlane:!0});case 5:r=t.sent;case 6:return t.abrupt("return",{type:n.responseTypes.SUCCESS,meta:{paymentMethodData:{ppcp_card_payment_token:r.id,ppcp_card_paypal_order_id:"",ppcp_card_save_payment:o}}});case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",{type:n.responseTypes.ERROR,message:null===t.t0||void 0===t.t0?void 0:t.t0.message,messageContext:n.noticeContexts.PAYMENTS});case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))));return t}),[o,a,u])}({token:a,emitResponse:y,onPaymentSetup:g,needsSetupToken:w,shouldSavePayment:m});var O=function(t){var e=t.fastlane,r=(0,o.useDispatch)(c.STORE_KEY),a=r.setPaymentToken,i=r.setCustomerContextId,u=(0,o.useDispatch)(V.CART_STORE_KEY).setBillingAddress,l=(0,o.useDispatch)("core/notices").createErrorNotice;return{onCancel:(0,n.useCallback)((function(){a(null),i(null)}),[]),onChangePaymentMethod:(0,n.useCallback)($(B().mark((function t(){var r,n,o,i,c,s,f,p,d,h,y;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.profile.showCardSelector();case 3:r=t.sent,n=r.selectedCard,o=r.selectionChanged,n&&o&&(a(n),null!=n&&null!==(i=n.paymentSource)&&void 0!==i&&null!==(c=i.card)&&void 0!==c&&c.billingAddress&&(s=n.paymentSource.card,f=s.name,p=void 0===f?"":f,d=s.billingAddress,h=d,y=(0,U.extractFullName)(p),u({first_name:y[0],last_name:y[1],address_1:null==h?void 0:h.addressLine1,address_2:null==h?void 0:h.addressLine2,city:(null==h?void 0:h.adminArea2)||"",state:(null==h?void 0:h.adminArea1)||"",postcode:(null==h?void 0:h.postalCode)||"",country:(null==h?void 0:h.countryCode)||""}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),l(t.t0.message,{id:"wc-ppcp-tokenize-error",context:"wc/checkout/payments"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),[e])}}({fastlane:i}),S=O.onCancel,_=O.onChangePaymentMethod;return React.createElement("div",{className:q()("wc-ppcp-tokenized-card",{"has-customer-context":u})},React.createElement(tt,{icons:p,brand:E.brand.toLowerCase()}),React.createElement("div",{className:"wc-ppcp-tokenized-card-format"},(0,U.formatPaymentMethod)(d,E)),React.createElement("div",{className:"wc-ppcp-tokenized-card-actions"},React.createElement("a",{className:"wc-ppcp-tokenized-card-cancel",onClick:S},f.cancel),u&&React.createElement("a",{className:"wc-ppcp-tokenized-card-change",onClick:_},f.change)))}var tt=function(t){var e=t.icons,r=t.brand,n="";return e[r]&&(n=e[r]),React.createElement("div",{className:"wc-ppcp-tokenized-card-icon-container"},React.createElement("img",{src:n}))},et=["data","paypal"];function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function at(){return at=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},at.apply(this,arguments)}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ct=(0,i.getSetting)("ppcp_card_data"),ut=function(t){var e,r,a=(e=(0,n.useState)(!1),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return it(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],l=a[1],p=(0,i.getSetting)("paypalQueryParams"),d=t.billing,h=t.shippingData,y=d.billingAddress.email,v=(0,s.VD)(p),m=(0,o.useDispatch)(c.STORE_KEY).setPaymentToken,b=(0,o.useSelect)((function(t){var e=t(c.STORE_KEY);return{emails:e.getCanceledEmails(),fastlane:e.getFastlane(),paymentToken:e.getPaymentToken(),customerFound:e.isCustomerFound()}})),w=b.emails,E=b.fastlane,O=b.paymentToken,S=b.customerFound,_=(0,n.useCallback)((function(t){m(t)}),[]),x=ct.showSignup&&!w.includes(y);return O?React.createElement(Q,at({data:ct,token:O,fastlane:E,customerFound:S},t)):React.createElement(React.Fragment,null,x&&E&&React.createElement(f.BC,{text:ct.i18n.fastlane_signup,logo:ct.fastlane_logo,onClick:function(){return l(!0)}}),E&&React.createElement(f.qJ,{i18n:ct.i18n,open:u,onClose:function(){return l(!1)},fastlane:E,shippingData:h,onTokenize:_}),React.createElement(f.p8,{description:ct.description}),React.createElement(g,{data:ct},React.createElement(lt,at({data:ct,paypal:v},t))))},lt=function(t){var e=t.data,r=t.paypal,o=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,et),a=e.i18n,i=e.cardHolderNameEnabled,c=w(),s=c.errors,p=c.isEligible,d=function(){var t={xs:[0,600],sm:[600,900],md:[900,1200],lg:[1200,1/0]},e=N((0,n.useState)(null),2),r=e[0],o=e[1];return(0,n.useEffect)((function(){if(r){var e=new ResizeObserver((function(e){var r=e[0],n=r.contentRect.width;Object.keys(t).forEach((function(t){r.target.classList.remove("card-field-container--".concat(t))}));var o=Object.keys(t).find((function(e){var r=N(t[e],2),o=r[0],a=r[1];return o<n&&a>n}));o&&r.target.classList.add("card-field-container--".concat(o))}));return e.observe(r),function(){e.disconnect()}}}),[r]),{setCardContainerRef:o}}(),h=d.setCardContainerRef;return R(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(r),!0).forEach((function(e){ot(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({data:e,paypal:r},o)),p?React.createElement("div",{className:"wc-ppcp-card-payment-method__container wc-payment-form",ref:h},i&&React.createElement("div",{className:"ppcp-card-fields--container card-name-field"},React.createElement("div",{className:"ppcp-card-field--container card-name-field"},React.createElement(st,{id:"ppcp-card-name",name:"name",label:a.cardHolderLabel}),React.createElement(ft,{name:"name",errors:s}))),React.createElement("div",{className:"ppcp-card-fields--container"},React.createElement("div",{className:"ppcp-card-field--container card-number-field"},React.createElement(st,{id:"ppcp-card-number",name:"number",label:a.cardNumberLabel}),React.createElement(ft,{name:"number",errors:s})),React.createElement("div",{className:"ppcp-card-field--container card-exp-field"},React.createElement(st,{id:"ppcp-card-exp",name:"expiry",label:a.cardExpiryLabel}),React.createElement(ft,{name:"expiry",errors:s})),React.createElement("div",{className:"ppcp-card-field--container card-cvv-field"},React.createElement(st,{id:"ppcp-card-cvv",name:"cvv",label:a.cardCvvLabel},React.createElement("div",{className:"ppcp-card-cvv-icon"},React.createElement(f.Ac,null))),React.createElement(ft,{name:"cvv",errors:s})))):React.createElement(u.StoreNotice,{status:"warning",isDismissible:!1},(0,l.i5)()?a.cardsNotAvailableAdmin:a.cardsNotAvailable)},st=function(t){var e=t.id,r=t.name,n=t.label,o=t.children,a=w(),i=a.errors,c=a.cardFieldRef;return React.createElement(React.Fragment,null,React.createElement("label",{className:"ppcp-card-field--label"},n),React.createElement("div",{id:e,ref:c(r),className:q()({"card-field--invalid":function(t,e){return"object"===rt(e)&&e.hasOwnProperty(t)}(r,i)})},o))},ft=function(t){var e=t.name,r=t.errors;return null!=r&&r[e]?React.createElement("div",{className:"ppcp-card-field-error","data-parent":"ppcp-card-exp"},ct.i18n.error_codes[r[e]]):null};(0,a.registerPaymentMethod)({name:"ppcp_card",ariaLabel:"Credit/Debit Cards",label:React.createElement(f.wJ,{id:"ppcp_card",title:ct.title,icons:ct.icon}),canMakePayment:function(){return!(0,l.kC)()},content:React.createElement(ut,{data:ct}),edit:React.createElement(ut,{data:ct}),placeOrderButtonLabel:ct.i18n.buttonLabel,supports:{showSavedCards:!0,showSaveOption:ct.showSaveOption,features:ct.features}})},762:(t,e,r)=>{"use strict";r.d(e,{H:()=>i,D:()=>b});var n=r(307),o=r(818),a=r(546),i=function(t){var e=t.paypal,r=(0,o.useSelect)((function(t){return t(a.STORE_KEY).getFastlane()})),i=(0,o.useDispatch)(a.STORE_KEY).setFastlane;return(0,n.useEffect)((function(){e&&e.Fastlane&&e.Fastlane().then((function(t){i(t)}))}),[e]),(0,n.useEffect)((function(){i(r)}),[]),r},c=r(483),u=r(801),l=r(907);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(){f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var p={};function d(){}function h(){}function y(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,o)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var f=u.arg,p=f.value;return p&&"object"==s(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){f.value=t,i(f)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function O(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=y,c(b,"constructor",y),c(y,"constructor",h),h.displayName=c(y,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(b),c(b,i,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function p(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){p(a,n,o,i,c,"next",t)}function c(t){p(a,n,o,i,c,"throw",t)}i(void 0)}))}}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var b=function(t){var e=t.i18n,r=t.email,i=t.onError,s=t.fastlane,p=t.buttonRef,h=t.shippingData,v=t.openFastlaneModal,g=m((0,n.useState)(!1),2),b=g[0],w=g[1],E=(0,n.useRef)({email:r,fastlane:s,buttonRef:p,onError:i,shippingData:h}),O=(0,o.useSelect)((function(t){var e=t(a.STORE_KEY);return{emails:e.getCanceledEmails(),isCustomerFound:e.isCustomerFound()}})),S=O.emails,_=O.isCustomerFound,x=(0,o.useDispatch)(u.CART_STORE_KEY).setBillingAddress,j=(0,o.useDispatch)(a.STORE_KEY),P=j.setPaymentToken,k=j.addCanceledEmail,L=j.setCustomerContextId,C=(0,o.useDispatch)(u.PAYMENT_STORE_KEY).__internalSetActivePaymentMethod;(0,n.useEffect)((function(){E.current=y(y({},E.current),{},{email:r,onError:i,fastlane:s,buttonRef:p,shippingData:h})}),[r,i,s,p,h]);var A=function(t){return Object.fromEntries(Object.entries(t).filter((function(t){var e=m(t,2),r=(e[0],e[1]);return null!=r&&""!==r})))},R=(0,n.useCallback)((function(t){(0,E.current.shippingData.setShippingAddress)(A({first_name:(null==t?void 0:t.firstName)||"",last_name:null==t?void 0:t.lastName,address_1:null==t?void 0:t.addressLine1,address_2:null==t?void 0:t.addressLine2,city:(null==t?void 0:t.adminArea2)||"",state:(null==t?void 0:t.adminArea1)||"",postcode:(null==t?void 0:t.postalCode)||"",country:(null==t?void 0:t.countryCode)||"",phone:(null==t?void 0:t.phoneNumber)||""}))}),[]),N=(0,n.useCallback)((function(t){x(A({first_name:(null==t?void 0:t.firstName)||"",last_name:null==t?void 0:t.lastName,address_1:null==t?void 0:t.addressLine1,address_2:null==t?void 0:t.addressLine2,city:(null==t?void 0:t.adminArea2)||"",state:(null==t?void 0:t.adminArea1)||"",postcode:(null==t?void 0:t.postalCode)||"",country:(null==t?void 0:t.countryCode)||"",phone:(null==t?void 0:t.phoneNumber)||""}))}),[x]),T=(0,n.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=document.querySelector(t);if(r){var n=r.getBoundingClientRect(),o=n.top+window.scrollY-e;window.scrollTo({behavior:"smooth",left:0,top:o})}}),[]),D=(0,n.useCallback)(function(){var t=d(f().mark((function t(e){var r,n,o,a,i,c,u,s,p,d,h,m,g,b,O,S,_,x,j,A,D,I,F,M,G,Y,V,U=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(U.length>1&&void 0!==U[1])||U[1],n=E.current,o=n.fastlane,a=n.shippingData,i=a.needsShipping,c=o.profile,u=o.identity,t.prev=4,w(!0),t.next=8,u.lookupCustomerByEmail(e);case 8:if(s=t.sent,!(p=s.customerContextId)){t.next=41;break}return t.next=13,u.triggerAuthenticationFlow(p);case 13:if(d=t.sent,h=d.profileData,"canceled"!==(m=d.authenticationState)){t.next=21;break}k(e),L(null),t.next=39;break;case 21:if("succeeded"!==m){t.next=39;break}if(O=h.name,S=h.card,_=h.shippingAddress,L(p),!i){t.next=35;break}return t.next=27,c.showShippingAddressSelector();case 27:if(j=t.sent,A=j.selectedAddress){t.next=33;break}return k(e),L(null),t.abrupt("return");case 33:_=y(y(y({},A.name),A.address),(null==A||null===(x=A.phoneNumber)||void 0===x?void 0:x.nationalNumber)&&{phoneNumber:A.phoneNumber.nationalNumber}),R(_);case 35:null!=S&&null!==(g=S.paymentSource)&&void 0!==g&&null!==(b=g.card)&&void 0!==b&&b.billingAddress&&N(y(y(y({},O),S.paymentSource.card.billingAddress),{},{phoneNumber:(null===(D=_)||void 0===D?void 0:D.phoneNumber)||null})),P(S),C("ppcp_card"),T("#radio-control-wc-payment-method-options-ppcp_card");case 39:t.next=47;break;case 41:if(!r){t.next=47;break}return L(null),t.next=45,v();case 45:(I=t.sent)&&(null!=I&&null!==(F=I.paymentSource)&&void 0!==F&&null!==(M=F.card)&&void 0!==M&&M.billingAddress&&(G=I.paymentSource.card.billingAddress,Y=(0,l.extractFullName)(I.paymentSource.card.name||""),I.paymentSource.card.billingAddress.toPpSdkType?G=y({firstName:Y[0],lastName:Y[1]},I.paymentSource.card.billingAddress.toPpSdkType()):(V=I.paymentSource.card.billingAddress,G=y({firstName:Y[0],lastName:Y[1]},{addressLine1:V.streetAddress,addressLine2:V.extendedAddress,postalCode:V.postalCode,adminArea2:V.locality,adminArea1:V.region,countryCode:V.countryCodeAlpha2}),i&&R(G)),N(G)),P(I),C("ppcp_card"),T("#radio-control-wc-payment-method-options-ppcp_card"));case 47:t.next=52;break;case 49:t.prev=49,t.t0=t.catch(4),console.info(t.t0);case 52:return t.prev=52,w(!1),t.finish(52);case 55:case"end":return t.stop()}}),t,null,[[4,49,52,55]])})));return function(e){return t.apply(this,arguments)}}(),[]),I=(0,n.useCallback)(function(){var t=d(f().mark((function t(r){var n,o,a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=E.current,o=n.email,a=n.onError,o){t.next=4;break}return t.abrupt("return",a(e.email_empty));case 4:if((0,c.isEmail)(o)){t.next=6;break}return t.abrupt("return",a(e.email_invalid));case 6:return t.next=8,D(o);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[T,v,N,R,D]);return{emails:S,onClick:I,processing:b,isCustomerFound:_,triggerAuthentication:D}}},534:(t,e,r)=>{"use strict";r.r(e);var n=r(613),o=r(617),a=r(307),i=r(16),c=r(762),u=r(21),l=["data"];function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t){var e=t.data,r=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,l),n=r.billing,f=(r.cartData,r.shippingData),p=r.setExpressPaymentError,d=n.billingAddress.email,h=s((0,a.useState)(null),2),y=(h[0],h[1]),v=s((0,a.useState)(!1),2),m=v[0],g=v[1],b=(0,a.useRef)(null),w=(0,a.useRef)(null),E=(0,o.getSetting)("paypalQueryParams"),O=(0,a.useCallback)((function(){return w.current=new Promise((function(t){b.current=t})),g(!0),w.current}),[]),S=(0,a.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g(!1),t||b.current(null)}),[]),_=(0,a.useCallback)((function(t){b.current(t)}),[]),x=(0,i.VD)(E),j=(0,c.H)({paypal:x}),P=(0,c.D)({i18n:e.i18n,email:d,onError:p,fastlane:j,shippingData:f,openFastlaneModal:O}),k=P.onClick,L=P.processing;return React.createElement(React.Fragment,null,React.createElement(r.components.LoadingMask,{isLoading:L},React.createElement("button",{id:"wc-ppcp-fastlane-checkout",className:"wc-ppcp-fastlane-button",ref:y,disabled:m||L,onClick:k},React.createElement("img",{className:"wc-ppcp-fastlane-icon",src:e.icon_url}))),React.createElement(u.qJ,{i18n:e.i18n,open:m,onClose:S,fastlane:j,onTokenize:_,shippingData:f}))}var d=r(622);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function p(){}function d(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,o)&&(v=g);var b=d.prototype=f.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==h(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function O(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,c(b,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(b),c(b,i,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function v(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var m,g,b=(0,o.getSetting)("ppcp_fastlane_data");(0,n.registerExpressPaymentMethod)({name:"ppcp_fastlane",canMakePayment:(m=y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!(0,d.kC)()&&(0,d.jv)());case 1:case"end":return t.stop()}}),t)})),g=function(){var t=this,e=arguments;return new Promise((function(r,n){var o=m.apply(t,e);function a(t){v(o,r,n,a,i,"next",t)}function i(t){v(o,r,n,a,i,"throw",t)}a(void 0)}))},function(){return g.apply(this,arguments)}),content:React.createElement(p,{data:b}),edit:React.createElement(p,{data:b}),supports:{features:b.features}})},489:(t,e,r)=>{"use strict";r.r(e);var n=r(307),o=r(613),a=r(617),i=r(818),c=r(21),u=r(622),l=r(16),s=["data","eventRegistration","activePaymentMethod","emitResponse"];function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var h=(0,a.getSetting)("ppcp_data"),y=function(t){var e,r,o=t.data,a=t.eventRegistration,i=t.activePaymentMethod,h=t.emitResponse,y=(function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}}(t,s),a.onPaymentSetup),v=a.onCheckoutFail,m=h.responseTypes,g=h.noticeContexts,b=(e=(0,n.useState)(o("paymentData")),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=b[0],E=b[1],O=(0,n.useCallback)((function(){E(null)}),[]);return(0,l.sC)({event:v,responseTypes:m,messageContext:g.CHECKOUT,setPaymentData:E}),(0,n.useEffect)((function(){if("ppcp"===i&&w){var t=y((function(){var t=w.orderId,e=void 0===t?"":t,r=w.billingToken,n={meta:{paymentMethodData:{ppcp_paypal_order_id:e,ppcp_billing_token:void 0===r?"":r}}};return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({type:m.SUCCESS},n)}));return t}}),[w,m,y,i]),w&&null!=w&&w.order?w.billingTokenData?React.createElement(c.IH,{description:w.billingTokenData.payer_info.email,icon:o("icons").find((function(t){return"paypal_simple"===t.id})),label:u.ag.cancel,onCancel:O}):React.createElement(c.IH,{description:w.order.payer.email_address,icon:o("icons").find((function(t){return"paypal_simple"===t.id})),label:u.ag.cancel,onCancel:O}):React.createElement("div",{className:"wc-ppcp-popup__container"},React.createElement("img",{src:o("redirectIcon")}),React.createElement("p",{dangerouslySetInnerHTML:{__html:o("i18n").redirectText}}))};const v=function(t){return React.createElement(React.Fragment,null,React.createElement(c.p8,{description:h.description}),React.createElement(y,t))};r(989);var m=r(907);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function b(){b=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&r.call(v,o)&&(h=v);var m=d.prototype=f.prototype=Object.create(h);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==g(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function O(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,c(m,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},w(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(m),c(m,i,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function w(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var x=r(819);function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var A=["context"];function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N(){return N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N.apply(this,arguments)}var T=function(t){var e=(0,a.getSetting)("ppcp_data");return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.hasOwnProperty(t)||(e[t]=r),e[t]}}(),D=function(t){var e=t.context,r=void 0===e?"express_checkout":e,n=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,A);return React.createElement(I,N({context:r,isExpress:!0,paymentMethodId:"paymentplugins_ppcp_express"},n))},I=function(t){var e,r,o,s=t.isExpress,f=void 0!==s&&s,p=t.context,d=t.billing,h=t.shippingData,y=t.eventRegistration,v=t.emitResponse,g=t.onError,E=t.onClick,S=t.onClose,j=t.onSubmit,k=t.activePaymentMethod,C=t.paymentMethodId,A=t.cartData,N=(0,a.getSetting)("paypalQueryParams"),D="true"===N.vault,I=d.billingAddress,F=y.onPaymentSetup,M=y.onCheckoutFail,G=y.onCheckoutValidation,Y=v.responseTypes,V=v.noticeContexts,U=A.extensions,z=(r=(0,n.useState)(),o=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(r,o)||function(t,e){if(t){if("string"==typeof t)return R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(t,e):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),B=z[0],K=z[1],$=(0,i.dispatch)("core/notices").createErrorNotice;(0,l.nz)({width:375,node:B}),f||(g=(0,n.useCallback)((function(t){$(null!=t&&t.message?t.message:t,{context:V.PAYMENTS})}),[]));var H=(0,n.useCallback)((function(t){K(t)}),[]),q=function(t){var e=t.isExpress,r=t.onSubmit,o=t.billingAddress,a=t.shippingData,i=t.onPaymentSetup,c=t.responseTypes,l=t.activePaymentMethod,s=t.paymentMethodId,f=L((0,n.useState)(null),2),p=f[0],d=f[1],h=(0,n.useRef)(null),y=(0,n.useRef)(null),v=(0,n.useRef)(null),g=(0,n.useCallback)((function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];d(null===t||""===t?null:P(P({},t),{},{submit:e}))}),[]),b=(0,n.useCallback)((function(){d(null)}),[]);(0,n.useEffect)((function(){h.current=p,y.current=o,v.current=a})),(0,n.useEffect)((function(){!(0,x.isEmpty)(p)&&p.submit&&r()}),[p,r]);var w=(0,n.useCallback)((function(t){var r,n,o,a,i,c,u,l,s,f=v.current.needsShipping,p={};if((0,x.isEmpty)(null==t||null===(r=t.payer)||void 0===r||null===(n=r.address)||void 0===n?void 0:n.address_line_1)){if(f&&!(0,x.isEmpty)(null==t||null===(o=t.purchase_units)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.shipping)){var d=t.purchase_units[0].shipping;p=(0,m.convertPayPalAddressToCart)(d.address)}}else p=(0,m.convertPayPalAddressToCart)(t.payer.address);return null!=t&&null!==(i=t.payer)&&void 0!==i&&i.name&&(p=P(P({},p),O(t.payer.name))),null!=t&&null!==(c=t.payer)&&void 0!==c&&c.email_address&&e&&(p=P(P({},p),{},{email:t.payer.email_address})),null!=t&&null!==(u=t.payer)&&void 0!==u&&null!==(l=u.phone)&&void 0!==l&&null!==(s=l.phone_number)&&void 0!==s&&s.national_number&&(p=P(P({},p),{},{phone:t.payer.phone.phone_number.national_number})),p}),[]),E=(0,n.useCallback)((function(t){var r,n,o,a,i,c,u,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"billing",s={},f=t.payment_source.paypal,p=v.current.needsShipping;if("billing"===l&&(null!=f&&null!==(a=f.name)&&void 0!==a&&a.given_name&&(s=P(P({},s),{},{first_name:f.name.given_name})),null!=f&&null!==(i=f.name)&&void 0!==i&&i.surname&&(s=P(P({},s),{},{last_name:f.name.surname}))),p&&null!==(r=f.shipping)&&void 0!==r&&r.address&&(s=P(P({},s),(0,m.convertPayPalAddressToCart)(f.shipping.address)),"shipping"===l&&null!==(c=f.shipping)&&void 0!==c&&null!==(u=c.name)&&void 0!==u&&u.full_name)){var d=(0,m.extractFullName)(f.shipping.name.full_name);s=P(P({},s),O(d))}return null!=f&&f.email_address&&e&&(s=P(P({},s),{},{email:f.email_address})),null!=f&&null!==(n=f.phone)&&void 0!==n&&null!==(o=n.phone_number)&&void 0!==o&&o.national_number&&(s=P(P({},s),{},{phone:f.phone.phone_number.national_number})),s}),[]),O=(0,n.useCallback)((function(t){var e,r;if(Array.isArray(t)){var n=L(t,2);e=n[0],r=n[1]}else e=t.given_name,r=t.surname;return{first_name:e,last_name:r}}),[]),S=(0,n.useCallback)((function(t){var e,r,n={};if(null!=t&&null!==(e=t.purchase_units)&&void 0!==e&&null!==(r=e[0])&&void 0!==r&&r.shipping){var o,a=t.purchase_units[0].shipping;if(n=(0,m.convertPayPalAddressToCart)(a.address),null!=a&&null!==(o=a.name)&&void 0!==o&&o.full_name){var i=(0,m.extractFullName)(a.name.full_name);n=P(P({},n),O(i))}}return n}),[]);return(0,n.useEffect)((function(){if(l===s){var t=i((function(){var t=y.current,r=v.current,n=r.shippingAddress,o=r.needsShipping,a=h.current,i=a.orderId,l=a.paymentToken,s=void 0===l?null:l,f=a.order,p=void 0===f?{}:f,d={meta:P({paymentMethodData:{ppcp_paypal_order_id:i,ppcp_payment_token:(null==s?void 0:s.id)||""}},e&&{billingAddress:P(P(P(P({},u.cZ),t),w(p)),s&&E(s))})};return o&&e&&(d.meta.shippingAddress=P(P(P(P({},u.e0),n),S(p)),s&&E(s,"shipping"))),P({type:c.SUCCESS},d)}));return function(){return t()}}}),[e,i,l]),{paymentData:p,setPaymentData:g,clearPaymentData:b}}({isExpress:f,onSubmit:j,billingAddress:I,shippingData:h,onPaymentSetup:F,responseTypes:Y,activePaymentMethod:k,paymentMethodId:C}),J=q.paymentData,Z=q.setPaymentData,X=q.clearPaymentData;(0,l.sC)({event:M,responseTypes:Y,messageContext:V.PAYMENTS,setPaymentData:Z}),function(t){var e=t.isExpress,r=t.paymentData,o=t.emitResponse,a=t.onCheckoutValidation;(0,n.useEffect)((function(){if(!e)return a((function(){return!!(null!=r&&r.orderId||null!=r&&r.paymentToken)||{type:o.responseTypes.FAIL,errorMessage:u.ag.order_button_click}}))}),[e,r])}({isExpress:f,emitResponse:v,paymentData:J,onCheckoutValidation:G});var W,Q,tt,et=(0,l.VD)(N),rt=function(t){var e=t.isExpress,r=t.paypal,o=t.needsSetupToken,a=t.buttonStyles,i=t.shippingData,c=t.billing,s=t.setError,f=t.setPaymentData,p=t.onClick,d=t.onClose,h=t.buttonsContainer,y=(0,n.useRef)(i),v=(0,n.useRef)(c),m=(0,n.useRef)({onClick:p,onClose:d,buttonState:!0,actions:{},error:null,billing:c,shipping:i,buttonsContainer:h}),g=(0,l.It)({isExpress:e,paymentMethod:"ppcp"}),E=g.createOrder,S=g.onShippingChange,_=g.createPaymentToken,x=g.createVaultSetupToken;(0,n.useEffect)((function(){y.current=i,v.current=c,m.current=O(O({},m.current),{},{shipping:i,billing:c,onClick:p,onClose:d,buttonsContainer:h})}));var j=(0,n.useCallback)((function(t){var e={};switch(t){case r.FUNDING.PAYPAL:e=a.paypal;break;case r.FUNDING.PAYLATER:e=a.paylater;break;case r.FUNDING.CREDIT:var n=["black","white"].includes(a.paylater.color)?a.paylater.color:"darkblue";e=O(O({},a.paylater),{},{color:n});break;case r.FUNDING.CARD:(e=a.card).tagline?(delete e.tagline,e.layout="vertical"):(e.layout="horizontal",delete e.tagline);break;case r.FUNDING.VENMO:e=a.venmo}return e}),[r,a]),P=(0,n.useCallback)(function(){var t,e=(t=b().mark((function t(e,r){var n;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={order:{},orderId:e.orderID,vaultSetupToken:e.vaultSetupToken||""},e.vaultSetupToken?_(e.vaultSetupToken).then((function(t){f(O(O({},n),{},{paymentToken:t}))})).finally((function(){m.current.buttonsContainer.classList.remove("disabled")})):r.order.get().then((function(t){f(O(O({},n),{},{order:t}))})).catch((function(t){s(t)}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){w(a,n,o,i,c,"next",t)}function c(t){w(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),[s]),k=(0,n.useCallback)((function(t){var e,r=m.current.buttonsContainer;if(!((null==t||null===(e=t.message)||void 0===e?void 0:e.indexOf("Window is closed"))>-1)){var n;if(m.current.error)return"validation_errors"===(null===(n=m.current.error)||void 0===n?void 0:n.code)?s(m.current.error.data.errors[0]):s(m.current.error.message);"validation_errors"===(null==t?void 0:t.code)?s(t.data.errors[0]):s(t),r.classList.remove("disabled")}}),[s]),L=(0,n.useCallback)((function(t){var r=y.current.needsShipping,n={fundingSource:t,style:j(t),onApprove:P,onError:k};return e?(n.onClick=function(){return m.current.onClick()},n.onCancel=function(){return m.current.onClose()}):(n.onClick=function(){e||m.current.buttonState||s(r?u.ag.order_missing_address:u.ag.order_missing_billing_address)},n.onCancel=function(){m.current.buttonsContainer.classList.remove("disabled")}),n.onInit=function(r,n){e||(m.current.actions[t]=n)},o?n.createVaultSetupToken=function(){m.current.buttonsContainer.classList.add("disabled");for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return x.apply(void 0,e.concat([m.current]))}:n.createOrder=function(t,e){return E(m.current)},e&&r&&"venmo"!==t&&(n.onShippingChange=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return S.apply(void 0,e.concat([m.current]))}),n}),[r,e,E,x,P,k,E,S,o,s]);return{getOptions:L}}({isExpress:f,paypal:et,vault:D,intent:N.intent,buttonStyles:T("buttons"),billing:d,shippingData:h,eventRegistration:y,setError:g,setPaymentData:Z,onClick:E,onClose:S,needsSetupToken:(null==U||null===(e=U.wc_ppcp)||void 0===e?void 0:e.needsSetupToken)||!1,buttonsContainer:B}).getOptions,nt=function(t){var e=t.data,r=t.paypal,o=t.context,a=t.vault,i=void 0!==a&&a,c=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!1),2),u=c[0],l=c[1];return(0,n.useEffect)((function(){if(r){var t=[],n=e("buttonOrder",[]);"express_checkout"===o?e("paypalSections",[]).includes(o)&&t.push(r.FUNDING.PAYPAL):t.push(r.FUNDING.PAYPAL),e("payLaterEnabled")&&e("payLaterSections",[]).includes(o)&&(i?t.push(r.FUNDING.CREDIT):t.push(r.FUNDING.PAYLATER)),e("cardEnabled")&&e("creditCardSections",[]).includes(o)&&t.push(r.FUNDING.CARD),e("venmoEnabled")&&e("venmoSections",[]).includes(o)&&t.push(r.FUNDING.VENMO),t.sort((function(t,e){return n.indexOf(t)<n.indexOf(e)?-1:1})),l([].concat(t))}}),[r]),u}({data:T,paypal:et,context:p,vault:D});return(0,n.useEffect)((function(){var t=T("paymentData");t&&t.order&&Z(t,!1)}),[]),(0,n.useEffect)((function(){et&&nt&&B&&nt.forEach((function(t){var e=et.Buttons(rt(t));e.isEligible()&&e.render(B)}))}),[et,nt,B]),!f&&J?J.paymentToken?React.createElement(c.IH,{description:null===(W=J.paymentToken)||void 0===W||null===(Q=W.payment_source)||void 0===Q||null===(tt=Q.paypal)||void 0===tt?void 0:tt.email_address,icon:T("icons").find((function(t){return"paypal_simple"===t.id})),label:u.ag.cancel,onCancel:X}):React.createElement(c.IH,{description:J.order.payer.email_address,icon:T("icons").find((function(t){return"paypal_simple"===t.id})),label:u.ag.cancel,onCancel:X}):React.createElement(React.Fragment,null,!f&&React.createElement(c.p8,{description:T("description")}),React.createElement("div",{className:"wc-ppcp-paypal__buttons",ref:H}))},F="express_checkout";(0,u.Zs)()&&(F="cart"),(0,o.registerExpressPaymentMethod)({name:"paymentplugins_ppcp_express",gatewayId:"ppcp",paymentMethodId:"ppcp",canMakePayment:function(){return!(0,u.kC)()&&((0,u.Zs)()&&T("paypalSections").includes("cart")||(0,u.jv)()&&function(){for(var t=0,e=["paypalSections","payLaterSections","creditCardSections","venmoSections"];t<e.length;t++)if(T(e[t],[]).includes("express_checkout"))return!0;return!1}())},content:React.createElement(D,{context:F}),edit:React.createElement(D,{context:F}),supports:{features:T("features")}}),T("placeOrderButtonEnabled")?(0,o.registerPaymentMethod)({name:"ppcp",label:React.createElement(c.wJ,{id:"ppcp",title:T("title"),icons:T("icons").find((function(t){return"paypal"===t.id}))}),ariaLabel:"PayPal",canMakePayment:function(){return!(0,u.kC)()&&(0,u.jv)()},content:React.createElement(v,{data:T}),edit:React.createElement(v,{data:T}),placeOrderButtonLabel:T("i18n").buttonLabel,supports:{showSavedCards:!1,showSaveOption:!1,features:T("features")}}):(0,o.registerPaymentMethod)({name:"ppcp",label:React.createElement(c.wJ,{id:"ppcp",title:T("title"),icons:T("icons").find((function(t){return"paypal"===t.id}))}),ariaLabel:"PayPal",canMakePayment:function(){return!(0,u.kC)()&&(0,u.jv)()},content:React.createElement(I,{context:"checkout",paymentMethodId:"ppcp"}),edit:React.createElement(I,{context:"checkout",paymentMethodId:"ppcp"}),supports:{showSavedCards:!1,showSaveOption:!1,features:T("features")}})},622:(t,e,r)=>{"use strict";r.d(e,{K6:()=>u,Zs:()=>f,ag:()=>v,cZ:()=>y,e0:()=>h,i5:()=>s,jv:()=>p,kC:()=>d,q$:()=>l});var n=r(907),o=r(617);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=function(t){var e=t.match(n.SHIPPING_OPTION_REGEX);if(e){var r=e[1];return[e[2],r]}return[]},l=function(t){var e,r;return t=t.replace(/^\//,""),null===(e=(0,o.getSetting)("ppcpGeneralData"))||void 0===e||null===(r=e.ajaxRestPath)||void 0===r?void 0:r.replace("%s",t)},s=function(){var t;return null===(t=(0,o.getSetting)("ppcpGeneralData"))||void 0===t?void 0:t.isAdmin},f=function(){return"cart"===(0,o.getSetting)("ppcpGeneralData").context},p=function(){return"checkout"===(0,o.getSetting)("ppcpGeneralData").context},d=function(){return!0===(0,o.getSetting)("ppcpGeneralData").adminOnly},h={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},y=i(i({},h),{},{email:""}),v=(0,o.getSetting)("ppcpGeneralData").i18n},967:(t,e)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var t="",e=0;e<arguments.length;e++){var r=arguments[e];r&&(t=i(t,a(r)))}return t}function a(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return o.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var r in t)n.call(t,r)&&t[r]&&(e=i(e,r));return e}function i(t,e){return e?t?t+" "+e:t+e:t}t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()}}]);
//# sourceMappingURL=blocks-commons.js.map