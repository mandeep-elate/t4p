/* empty css                         *//* empty css                   */function P(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(l,v,t){const{__:a,_x:y,sprintf:f}=l.wp.i18n;t(function(){const p=()=>new URLSearchParams(window.location.search).get("tab")||"general",i=(e,r)=>{t(".woosea-admin-notice").remove();const o="notice notice-".concat(r," is-dismissible woosea-admin-notice"),n='\n        <div class="'.concat(o,'">\n          <p>').concat(e,'</p>\n          <button type="button" class="notice-dismiss">\n            <span class="screen-reader-text">').concat(a("Dismiss this notice.","woo-product-feed-pro"),"</span>\n          </button>\n        </div>\n      ");t(".adt-edit-feed-form").prepend(n),t(".woosea-admin-notice .notice-dismiss").on("click",function(){t(this).closest(".woosea-admin-notice").fadeOut(300,function(){t(this).remove()})})},g=(e=!1)=>{if(!t("#projectname").length)return!0;const o=t("#projectname").val(),n=typeof o=="string"?o:"",s=/^[a-zA-Z0-9-_.àèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸçÇßØøÅåÆæœ ]*$/,c=3,m=30;return s.test(n)?n.length<c?(e&&i(f(a("Sorry, your project name needs to be at least %d characters long.","woo-product-feed-pro"),c),"error"),!1):n.length>m?(e&&i(f(a("Sorry, your project name cannot be over %d characters long.","woo-product-feed-pro"),m),"error"),!1):!0:(e&&i(a("Sorry, only letters, numbers, whitespaces, -, . and _ are allowed for the projectname","woo-product-feed-pro"),"error"),!1)},h=()=>{const e=p();if(d()&&e==="conversion_analytics"){let r=!0,o=[];return t.ajax({url:l.ajaxurl,type:"POST",async:!1,data:{action:"check_temp_feed_required_fields",nonce:l.adtObj.adtNonce},success:function(n){n.success===!1&&(r=!1,n.data&&n.data.errors&&Array.isArray(n.data.errors)&&n.data.errors.forEach(s=>{o.push(s)}))},error:function(){r=!1,o.push(a("Could not validate feed configuration. Please try again.","woo-product-feed-pro"))}}),r||i(o.join("<br>"),"error"),r}return!0};t(".adt-edit-feed-form").on("submit",function(e){const r=p();if(r==="general"){if(!g(!0))return e.preventDefault(),!1}else if(r==="conversion_analytics"&&d()&&!h())return e.preventDefault(),window.scrollTo(0,0),!1;if(t("#rulevalue").length){const o=t("#rulevalue").val(),n=typeof o=="string"?o:"",s=1,c=200;if(n.length<s)return i(a("Sorry, rule value minimum length is 1 character","woo-product-feed-pro"),"error"),e.preventDefault(),!1;if(n.length>c)return i(f(a("Sorry, rule value cannot be over %d characters long.","woo-product-feed-pro"),c),"error"),e.preventDefault(),!1}return!0});const d=()=>!new URLSearchParams(window.location.search).has("id"),w=e=>{if(!e||!e.startsWith("http"))return!1;try{const r=new URL(window.location.href),o=new URL(e),n=r.searchParams.get("page");return o.searchParams.get("page")==="adt-edit-feed"}catch(r){return!1}};let u=!1;d()&&(t(".adt-edit-feed-form").on("submit",function(){u=!0}),t(".woo-product-feed-pro-nav-tab-wrapper .nav-tab").on("click",function(){const e=t(this).attr("href");e&&w(e)&&(u=!0,setTimeout(()=>{u=!1},100))}),t(window).on("beforeunload",function(e){if(!u){const r=a("Leaving this page will result in losing your feed configuration. Are you sure you want to leave?","woo-product-feed-pro");return e.returnValue=r,r}}))})})(window,document,jQuery);export{P as __vite_legacy_guard};
